{"version":3,"sources":["webpack://pendora/./docs/js/pages/documentation/test_resizeable.js","webpack://pendora/./src/core/ui/PointerTracker.js","webpack://pendora/./src/core/ui/Resizeable.js"],"names":["window","Rect","getBoundingOffsetRect","TestResizeablePage","loadDraggables","debugTracker","PointerTracker","DebugMouseTracker","document","body","appendChild","element","resizeable1","Resizeable","helper","cloneHelperFactory","minWidth","minHeight","maxWidth","maxHeight","resizeable2","resizeable3","position","console","log","elements","querySelectorAll","d","container","closest","Draggable","capture","context","target","exclude","selectElement","cancel","removeEventListener","isTracking","releasePointerCapture","Error","pageXOffset","pageYOffset","value","zIndex","output","createElement","tracker","on","event","innerHTML","clientX","clientY","style","right","top","padding","backgroundColor","border","Publisher","PointerEvent","targetElement","excludedElement","pointerId","setPointerCapture","addEventListener","handle","name","args","publish","type","originalEvent","axis","keepAspectRatio","grid","handles","className","addClasses","rect","width","height","setElementClientPosition","config","startingRect","finalRect","call","nodeType","buildHelperFromElement","topic","resizeable","onResizeStart","centerX","left","centerY","scaleX","scale","scaleY","ratio","pointer","Vec2","x","Math","floor","y","clamp","getBoundingClientRect","max","Infinity","resize","bottom","onResize","applyRect","onResizeComplete","dataset","trim","split","e","parentElement","removeChild","opacity","r","cloneNode"],"mappings":"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","file":"chunk-2.bundle.js","sourcesContent":["import Resizeable, {cloneHelperFactory} from \"core/ui/Resizeable\";\nimport Draggable from \"core/ui/Draggable\";\nimport PointerTracker from \"../../../../src/core/ui/PointerTracker\";\nimport Rect from \"../../../../src/core/vectors/Rect\";\nimport {getBoundingOffsetRect} from \"../../../../src/core/ui/position\";\n\n\nwindow.Rect = Rect;\nwindow.getBoundingOffsetRect = getBoundingOffsetRect;\n\n\nexport default class TestResizeablePage {\n    load() {\n        this.loadDraggables();\n\n        let debugTracker = PointerTracker.DebugMouseTracker();\n        document.body.appendChild(debugTracker.element);\n\n        this.resizeable1 = new Resizeable('#resizeable1', {\n            helper: cloneHelperFactory(1000, 0.5),\n            minWidth: 100,\n            minHeight: 100,\n            maxWidth: 250,\n            maxHeight: 250\n        });\n\n        this.resizeable2 = new Resizeable(\"#resizeable2\", {});\n        this.resizeable3 = new Resizeable(\"#resizeable3\", {position: \"width-height\"});\n\n        console.log(\"Hello WOrld\");\n    }\n\n    loadDraggables() {\n        let elements = document.querySelectorAll('.draggable');\n\n        for(let d of elements) {\n            let container = d.closest('.example-zone') || null;\n            new Draggable(d, {container});\n        }\n    }\n}","import Publisher from \"../Publisher\";\nimport {selectElement} from \"../utility\";\nimport {closest} from \"../utility\";\n\n\n/**\n * A class that tracks mouse position oven an element or the document.\n * Will use PointerEvents if browser support is available, otherwise it will fall back to using mousedown, mouseover, and mousemove.\n */\nexport default class PointerTracker extends Publisher {\n    #element;\n    #pointerId;\n    #isDisabled;\n\n    #pageX;\n    #pageY;\n\n    #type;\n    #onPointerDown;\n    #onPointerMove;\n    #onPointerUp;\n    #isTracking;\n\n    #capture;\n    #context;\n    #target;\n    #exclude;\n\n    constructor(element, {capture=false, context=null, target=null, exclude=null}={}) {\n        super();\n\n        this.#element = selectElement(element);\n\n        this.#isTracking = false;\n        this.#isDisabled = false;\n\n        this.#capture = capture;\n        this.#context = context;\n        this.#target = target;\n        this.#exclude = exclude;\n\n        this.#init();\n    }\n\n    destroy() {\n        this.cancel();\n\n        if(this.#onPointerDown) {\n            this.#element.removeEventListener('pointerdown', this.#onPointerDown);\n        }\n\n        this.#onPointerDown = null;\n        this.#element = null;\n    }\n\n    cancel() {\n        if(this.#type === 'pointer') {\n            if(this.isTracking) {\n                if (this.#onPointerMove) {\n                    this.#element.removeEventListener('pointermove', this.#onPointerMove);\n                }\n\n                if(this.#onPointerUp) {\n                    this.#element.removeEventListener('pointerup', this.#onPointerUp);\n                }\n            }\n\n            if(this.#pointerId) {\n                this.#element.releasePointerCapture(this.#pointerId);\n            }\n\n            this.#isTracking = false;\n            this.#type = null;\n            this.#onPointerUp = null;\n            this.#onPointerMove = null;\n            this.#pointerId = null;\n        } else if(this.#type === 'mouse') {\n\n        } else {\n            throw new Error(\"Unknown pointer type.\");\n        }\n    }\n\n    get isTracking() {\n        return this.#isTracking;\n    }\n\n    #init() {\n        if(this.#type) return;\n\n        if(window.PointerEvent) {\n            this.#initPointerTracker();\n        } else {\n            this.#initMouseTracker();\n        }\n    }\n\n    #initPointerTracker() {\n        if(this.#type) return;\n        this.#type = \"pointer\";\n\n        this.#onPointerMove = event => {\n            if(!this.#isDisabled) {\n                this.#triggerPointerEvent('pointer-move', event);\n            }\n        };\n\n        if(this.#capture) {\n            this.#onPointerDown = event => {\n                if(this.isTracking) return;\n\n                let targetElement = this.#target ? closest(event.target, this.#target, this.#element) : null,\n                    excludedElement = this.#exclude ? closest(event.target, this.#exclude, this.#element) : null;\n\n                if((!this.#target || targetElement) && (!this.#exclude || !excludedElement)) {\n                    this.#isTracking = true;\n                    this.#pointerId = event.pointerId;\n\n                    this.#element.setPointerCapture(event.pointerId);\n                    this.#element.addEventListener('pointermove', this.#onPointerMove);\n                    this.#element.addEventListener('pointerup', this.#onPointerUp);\n\n                    this.#triggerPointerEvent('pointer-capture', event, {handle: targetElement});\n                }\n            };\n\n            this.#onPointerUp = event => {\n                this.#isTracking = false;\n                this.#element.releasePointerCapture(event.pointerId);\n                this.#pointerId = null;\n                this.#element.removeEventListener('pointerup', this.#onPointerUp);\n                this.#element.removeEventListener('pointermove', this.#onPointerMove);\n                this.#triggerPointerEvent('pointer-release', event);\n            };\n\n            this.#element.addEventListener('pointerdown', this.#onPointerDown);\n        } else {\n            this.#element.addEventListener('pointermove', this.#onPointerMove);\n        }\n    }\n\n    #initMouseTracker() {\n        this.#type = \"mouse\";\n    }\n\n    #triggerPointerEvent(name, event, args=null) {\n        this.#pageX = event.clientX + window.pageXOffset;\n        this.#pageY = event.clientY + window.pageYOffset;\n\n        if(!args) {\n            args = {};\n        }\n\n        this.publish(name, {\n            type: this.#type,\n            name: name,\n            target: event.target,\n            clientX: event.clientX,\n            clientY: event.clientY,\n            tracker: this,\n            originalEvent: event,\n            ...args\n        });\n    }\n\n    get element() {\n        return this.#element;\n    }\n\n    get clientX() {\n        return this.#pageX - window.pageXOffset;\n    }\n\n    get clientY() {\n        return this.#pageY - window.pageYOffset;\n    }\n\n    get isDisabled() {\n        return this.#isDisabled;\n    }\n\n    set isDisabled(value) {\n        if(!value) {\n\n        } else {\n\n        }\n    }\n\n    static DebugMouseTracker(zIndex=10000) {\n        let output = document.createElement('div');\n\n        let tracker = new PointerTracker(document.body);\n\n        tracker.on('pointer-move', event => {\n            output.innerHTML = `(${event.clientX}, ${event.clientY})`;\n        });\n\n        output.style.position = \"absolute\";\n        output.style.right = \"5px\";\n        output.style.top = \"5px\";\n        output.style.padding = \"5px\";\n        output.style.backgroundColor = \"#ffffff\";\n        output.style.border = \"1px solid #cccccc\";\n        output.style.zIndex = \"\"+zIndex;\n\n        return {element: output, tracker: tracker};\n    }\n}","import Publisher from \"../Publisher\";\nimport {addClasses, selectElement, clamp} from \"../utility\";\nimport PointerTracker from \"./PointerTracker\";\nimport Rect from \"../vectors/Rect\";\nimport Vec2 from \"../vectors/Vec2\";\nimport {setElementClientPosition} from \"./position\";\n\n\n/**\n * Creates a resizable component.\n *\n * Publisher Events\n *\n * resize-start\n * resize\n * resize-complete\n * resize-cancel\n */\nexport default class Resizeable extends Publisher {\n    #element;\n\n    #isResizing;\n    #isDisabled;\n    #container;\n    #axis;\n    #grid;\n    #keepAspectRatio;\n    #handles;\n    #helper;\n    #exclude;\n\n    minWidth;\n    maxWidth;\n    minHeight;\n    maxHeight;\n\n    #position;\n\n    #tracker;\n\n    constructor(element, {minWidth=null, maxWidth=null, minHeight=null, maxHeight=null, axis='xy', keepAspectRatio=false, container=null, grid=null, handles='.ui-resize-handle', helper=null, exclude='.no-resize', className='ui-resizeable', position=\"top-left\"}={}) {\n        super();\n\n        this.#element = selectElement(element);\n\n        this.minWidth = minWidth;\n        this.maxWidth = maxWidth;\n        this.minHeight = minHeight;\n        this.maxHeight = maxHeight;\n\n        this.#axis = axis;\n        this.#keepAspectRatio = keepAspectRatio;\n        this.#container = container ? selectElement(container) : null;\n        this.#grid = grid;\n        this.#handles = handles;\n        this.#exclude = exclude;\n        this.#helper = helper;\n        this.#position = position;\n\n        if(className) {\n            addClasses(this.#element, className);\n        }\n\n        this.#isResizing = false;\n        this.#isDisabled = false;\n\n        this.#tracker = new PointerTracker(this.#element, {capture: true, context: document, target: handles, exclude: exclude});\n\n        this.#initResizing();\n    }\n\n    #initResizing() {\n        let config,\n            startingRect,\n            target,\n            finalRect = null;\n\n        // todo pointer-cancel, resize-cancel\n\n        this.#tracker.on('pointer-capture', event => {\n            this.#isResizing = true;\n            config = this.#getHandleConfig(event.handle);\n            startingRect = new Rect(this.#element);\n            target = this.#element;\n\n            if(this.#helper) {\n                if(typeof this.#helper === 'function') {\n                    target = this.#helper.call(this, this.#element);\n                } else {\n                    target = this.#helper;\n                }\n\n                if(target.nodeType) {\n                    target = buildHelperFromElement(target, this.#element);\n                }\n            } else {\n                target = buildHelperFromElement(this.#element, this.#element);\n            }\n\n            let topic = {topic: \"resize-start\", resizeable: this, element: this.#element, position: this.#position, config, startingRect, event};\n\n            if(target.onResizeStart) {\n                target.onResizeStart({...topic});\n            }\n\n            this.publish('resize-start', {...topic})\n        });\n\n        this.#tracker.on('pointer-move', event => {\n            let rect = new Rect(startingRect),\n                centerX = rect.left + (rect.width/2),\n                centerY = rect.top + (rect.height/2),\n                scaleX = config.scale === 'scale-x' || config.scale === 'scale-xy',\n                scaleY = config.scale === 'scale-y' || config.scale === 'scale-xy',\n                ratio = rect.width / rect.height,\n                pointer = new Vec2(event.clientX, event.clientY);\n\n            if(this.#grid) {\n                pointer.x = Math.floor(pointer.x / this.#grid) * this.#grid;\n                pointer.y = Math.floor(pointer.y / this.#grid) * this.#grid;\n            }\n\n            if(this.#container) {\n                pointer = pointer.clamp(Rect.getBoundingClientRect(this.#container));\n            }\n\n            let minWidth = Math.max(0, this.minWidth || 0),\n                maxWidth = this.maxWidth || Infinity,\n                minHeight = Math.max(0, this.minHeight || 0),\n                maxHeight = this.maxHeight || Infinity,\n                width, height;\n\n            if(this.#axis === 'x' || this.#axis === 'xy') {\n                if(config.resize === 'bottom-left' || config.resize === 'top-left' || config.resize === 'left') {\n                    if(scaleX) {\n                        width = clamp(2*(centerX - pointer.x), minWidth, maxWidth);\n                        rect.left = centerX - (width/2);\n                        rect.right = centerX + (width/2);\n                    } else {\n                        width = clamp(rect.right - pointer.x, minWidth, maxWidth);\n                        rect.left = rect.right - width;\n                    }\n                } else if(config.resize === 'bottom-right' || config.resize === 'top-right' || config.resize === 'right') {\n                    if(scaleX) {\n                        width = clamp(2*(pointer.x - centerX), minWidth, maxWidth);\n                        rect.left = centerX - (width/2);\n                        rect.right = centerX + (width/2);\n                    } else {\n                        width = clamp(pointer.x - rect.left, minWidth, maxWidth);\n                        rect.right = rect.left + width;\n                    }\n                }\n            }\n\n            if(this.#axis === 'y' || this.#axis === 'xy') {\n                if(config.resize === 'bottom-right' || config.resize === 'bottom-left' || config.resize === 'bottom') {\n                    if(scaleY) {\n                        height = clamp(2*(pointer.y - centerY), minHeight, maxHeight);\n                        rect.bottom = centerY + (height / 2);\n                        rect.top = centerY - (height / 2);\n                    } else {\n                        height = clamp(pointer.y - rect.top, minHeight, maxHeight);\n                        rect.bottom = rect.top + height;\n                    }\n                } else if(config.resize === 'top-left' || config.resize === 'top-right' || config.resize === 'top') {\n                    if(scaleY) {\n                        height = clamp(2*(centerY - pointer.y), minHeight, maxHeight);\n                        rect.bottom = centerY + (height / 2);\n                        rect.top = centerY - (height / 2);\n                    } else {\n                        height = clamp(rect.bottom - pointer.y, minHeight, maxHeight);\n                        rect.top = rect.bottom - height;\n                    }\n                }\n            }\n\n            if(this.#keepAspectRatio) {\n                if(this.#axis === 'x' || this.#axis === 'xy') {\n                    rect.bottom = rect.top + (rect.width / ratio);\n                } else {\n                    rect.right = rect.left + (rect.height * ratio);\n                }\n            }\n\n            finalRect = rect;\n\n            let topic = {topic: \"resize\", rect, resizeable: this, position: this.#position, element: this.#element, event: event, config, startingRect};\n\n            if(target && target.onResize) {\n                target.onResize({...topic});\n            }\n\n            this.publish(topic.topic, {...topic});\n        });\n\n        this.#tracker.on('pointer-release', event => {\n            this.#isResizing = false;\n\n            if(this.#position) {\n                this.applyRect(this.#element, finalRect);\n            }\n\n            this.#element.style.width = `${finalRect.width}px`;\n            this.#element.style.height = `${finalRect.height}px`;\n\n            let topic = {topic: \"resize-complete\", finalRect, resizeable: this, element: this.#element, position: this.#position, event, config, startingRect};\n\n            if(target && target.onResizeComplete) {\n                target.onResizeComplete({...topic});\n            }\n\n            this.publish(topic.topic, {...topic});\n        });\n    }\n\n    applyRect(element, rect) {\n        if(this.#position === 'width-height') {\n            element.style.width = rect.width + \"px\";\n            element.style.height = rect.height + \"px\";\n        } else if(this.#position === \"width\") {\n            element.style.width = rect.width + \"px\";\n        } else if(this.#position === \"height\") {\n            element.style.height = rect.height + \"px\";\n        } else {\n            setElementClientPosition(element, rect, this.#position);\n        }\n    }\n\n    /**\n     * Returns the resize config object from the given handle element.\n     * To specify options for resizing the handle should have a [data-resize] property in the format:\n     * <resize>; <scale>\n     *\n     * resize: Specifies the direction to resize in.  Can be top, right, bottom, left, top-left, top-right, bottom-left, bottom-right.\n     * scale: If specified it tells the instance to scale that object in the given axis.  Can be either none, scale-x, scale-y, scale-xy.  Defaults to none.\n     * @param handle\n     * @returns {{resize: string, scale: string}}\n     */\n    #getHandleConfig(handle) {\n        let resize = handle.dataset.resize.trim().split(/\\s*;\\s*/);\n\n        return {\n            resize: resize[0],\n            scale: resize[1] || \"none\"\n        };\n    }\n\n    get position() {\n        return this.#position;\n    }\n}\n\n\nfunction buildHelperFromElement(helper, element) {\n    return {\n        helper,\n        element,\n\n        onResizeStart(e) {\n            if(helper !== element && !helper.parentElement) {\n                element.parentElement.appendChild(helper);\n            }\n        },\n\n        onResize(e) {\n            if(e.position) {\n                e.resizeable.applyRect(helper, e.rect);\n            }\n\n            helper.style.width = `${e.rect.width}px`;\n            helper.style.height = `${e.rect.height}px`;\n        },\n\n        onResizeComplete(e) {\n            if(helper !== element && helper.parentElement) {\n                helper.parentElement.removeChild(helper);\n            }\n        }\n    }\n}\n\n\nexport function cloneHelperFactory(zIndex, opacity) {\n    return function(element) {\n        let r = element.cloneNode(true);\n        r.style.zIndex = zIndex;\n        r.style.opacity = opacity;\n        return r;\n    }\n}"],"sourceRoot":""}