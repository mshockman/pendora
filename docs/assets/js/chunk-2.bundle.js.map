{"version":3,"sources":["webpack://pendora/./docs/js/pages/documentation/test_resizeable.js","webpack://pendora/./src/core/ui/Resizeable.js","webpack://pendora/./src/core/utility/set.js"],"names":["TestResizeablePage","loadDraggables","resizeable1","Resizeable","elements","document","querySelectorAll","d","container","closest","Draggable","DIRECTIONS","Set","CONTAINERS","client","left","top","right","window","innerWidth","bottom","innerHeight","height","width","viewport","element","parent","_getScrollParent","bb","getBoundingClientRect","scrollLeft","scrollTop","scrollWidth","scrollHeight","handles","helper","minWidth","maxWidth","minHeight","maxHeight","keepAspectRatio","autoHide","grid","querySelector","classList","add","split","isSuperset","TypeError","direction","handle","createElement","dataset","appendChild","_onMouseDown","event","_startResizing","addEventListener","x","y","Array","isArray","isResizing","target","contains","resizeable","preventDefault","startPosX","clientX","scrollX","startPosY","clientY","scrollY","doc","startingClientRect","startBox","clientRectToDocumentSpace","rect","call","addClasses","style","boxSizing","getComputedStyle","parentElement","setElementClientPosition","onMouseMove","deltaX","deltaY","undefined","Infinity","clamp","_container","snapToGrid","Math","ceil","floor","dispatchEvent","CustomEvent","bubbles","detail","originalEvent","targetClientRect","onMouseUp","removeEventListener","removeChild","remove","set","subset","elem","has","union","setA","setB","_union","intersection","_intersection","symmetricDifference","_difference","difference"],"mappings":"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","file":"chunk-2.bundle.js","sourcesContent":["import Resizeable from \"core/ui/Resizeable\";\r\nimport Draggable from \"core/ui/Draggable\";\r\n\r\n\r\nexport default class TestResizeablePage {\r\n    load() {\r\n        this.loadDraggables();\r\n\r\n        this.resizeable1 = new Resizeable('#resizeable1');\r\n    }\r\n\r\n    loadDraggables() {\r\n        let elements = document.querySelectorAll('.draggable');\r\n\r\n        for(let d of elements) {\r\n            let container = d.closest('.example-zone') || null;\r\n            new Draggable(d, {container});\r\n        }\r\n    }\r\n}","import {isSuperset} from 'core/utility/set';\r\nimport {clientRectToDocumentSpace, setElementClientPosition, snapToGrid} from 'core/ui/position';\r\nimport {clamp} from \"../utility/math\";\r\nimport {addClasses} from \"../utility/dom\";\r\n\r\n\r\nconst DIRECTIONS = new Set([\r\n    'top-left',\r\n    'top',\r\n    'top-right',\r\n    'right',\r\n    'bottom-right',\r\n    'bottom',\r\n    'bottom-left',\r\n    'left'\r\n]);\r\n\r\n\r\nexport const CONTAINERS = {\r\n    /**\r\n     * Constrains to client area.\r\n     * @returns {{top: number, left: number, width: number, height: number}}\r\n     */\r\n    client: function() {\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: window.innerWidth,\r\n            bottom: window.innerHeight,\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Constrains to viewport.\r\n     * @param element\r\n     * @returns {{top: number, left: number, width: number, height: number}}\r\n     */\r\n    viewport: function(element) {\r\n        let parent = _getScrollParent(element),\r\n            bb = parent.getBoundingClientRect();\r\n\r\n        return {\r\n            left: bb.left - parent.scrollLeft,\r\n            top: bb.top - parent.scrollTop,\r\n            width: parent.scrollWidth,\r\n            height: parent.scrollHeight,\r\n            right: (bb.left - parent.scrollLeft) + parent.scrollWidth,\r\n            bottom: (bb.top - parent.scrollTop) + parent.scrollHeight\r\n        };\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Behavior class that makes an element resizeable.\r\n */\r\nexport default class Resizeable {\r\n    constructor(element, {handles=\"bottom-right\", helper=null, minWidth=null, maxWidth=null, minHeight=null, maxHeight=null,\r\n        keepAspectRatio=false, autoHide=false, container=null, grid=null}={}) {\r\n        if(typeof element === 'string') {\r\n            this.element = document.querySelector(element);\r\n        } else {\r\n            this.element = element;\r\n        }\r\n\r\n        this.handles = {};\r\n        this.element.classList.add('ui-resizeable');\r\n\r\n        if(handles === 'all') {\r\n            handles = new Set(DIRECTIONS);\r\n        } else {\r\n            handles = new Set(handles.split(/\\s+/));\r\n        }\r\n\r\n        if(!isSuperset(DIRECTIONS, handles)) {\r\n            throw new TypeError(\"Invalid direction.\");\r\n        }\r\n\r\n        for(let direction of handles) {\r\n            let handle = document.createElement('div');\r\n            handle.classList.add('ui-resizeable-handle');\r\n            handle.classList.add(`ui-resizeable-${direction}`);\r\n            handle.dataset.direction = direction;\r\n            this.handles[direction] = handle;\r\n            this.element.appendChild(handle);\r\n        }\r\n\r\n        this._onMouseDown = (event) => {\r\n            this._startResizing(event);\r\n        };\r\n\r\n        this.element.addEventListener('mousedown', this._onMouseDown);\r\n\r\n        if(typeof grid === 'number') {\r\n            this.grid = {\r\n                x: grid,\r\n                y: grid\r\n            };\r\n        } else if(Array.isArray(grid)) {\r\n            this.grid = {\r\n                x: grid[0],\r\n                y: grid[1]\r\n            };\r\n        } else {\r\n            this.grid = grid;\r\n        }\r\n\r\n        this.helper = helper;\r\n        this.minWidth = minWidth;\r\n        this.maxWidth = maxWidth;\r\n        this.minHeight = minHeight;\r\n        this.maxHeight = maxHeight;\r\n        this.keepAspectRatio = keepAspectRatio;\r\n        this.isResizing = false;\r\n        this.container = container;\r\n    }\r\n\r\n    _startResizing(event) {\r\n        if(this.isResizing) return;\r\n        let handle = event.target.closest('.ui-resizeable-handle');\r\n        if(!handle || !this.element.contains(handle)) return;\r\n        let resizeable = handle.closest('.ui-resizeable');\r\n        if(!resizeable || resizeable !== this.element) return;\r\n\r\n        event.preventDefault();\r\n\r\n        let direction = handle.dataset.direction,\r\n            startPosX = event.clientX + window.scrollX,\r\n            startPosY = event.clientY + window.scrollY,\r\n            doc = document,\r\n            startingClientRect = this.element.getBoundingClientRect(),\r\n            startBox = clientRectToDocumentSpace(startingClientRect),\r\n            target = this.element,\r\n            rect = {left: startBox.left, top: startBox.top, width: startBox.width, height: startBox.height};\r\n\r\n        if(this.helper) {\r\n            if(typeof this.helper === 'function') {\r\n                target = this.helper.call(this, this.element);\r\n            } else {\r\n                target = document.createElement('div');\r\n                addClasses(target, this.helper);\r\n            }\r\n\r\n            target.classList.add('ui-resizeable-helper');\r\n            target.style.width = startBox.width + 'px';\r\n            target.style.height = startBox.height + 'px';\r\n            target.style.boxSizing = getComputedStyle(this.element).boxSizing;\r\n            this.element.parentElement.appendChild(target);\r\n            setElementClientPosition(target, startingClientRect, 'translate3d');\r\n            setElementClientPosition(target, this.element.getBoundingClientRect(), 'translate3d');\r\n        }\r\n\r\n        let onMouseMove = event => {\r\n            let deltaX = event.clientX - (startPosX - window.scrollX),\r\n                deltaY = event.clientY - (startPosY - window.scrollY),\r\n                left = startBox.left,\r\n                top = startBox.top,\r\n                right = startBox.right - window.scrollX,\r\n                bottom = startBox.bottom - window.scrollY,\r\n                minWidth = this.minWidth !== null && this.minWidth !== undefined ? this.minWidth : 0,\r\n                maxWidth = this.maxWidth !== null && this.maxWidth !== undefined ? this.maxWidth : Infinity,\r\n                minHeight = this.minHeight !== null && this.maxHeight !== undefined ? this.minHeight : 0,\r\n                maxHeight = this.maxHeight !== null && this.maxHeight !== undefined ? this.maxHeight : Infinity;\r\n\r\n            if(direction === 'right' || direction === 'bottom-right' || direction === 'top-right') {\r\n                right += deltaX;\r\n                right = clamp(right, left + minWidth, left + maxWidth);\r\n            } else if(direction === 'left' || direction === 'top-left' || direction === 'bottom-left') {\r\n                left += deltaX;\r\n                left = clamp(left, right - maxWidth, right - minWidth);\r\n            }\r\n\r\n            if(direction === 'bottom' || direction === 'bottom-right' || direction === 'bottom-left') {\r\n                bottom = clamp(bottom + deltaY, top + minHeight, top + maxHeight);\r\n            } else if(direction === 'top' || direction === 'top-left' || direction === 'top-right') {\r\n                top = clamp(top + deltaY, bottom - maxHeight, bottom - minHeight);\r\n            }\r\n\r\n            let container;\r\n\r\n            if(this.container) {\r\n                container = this.container.call(this, this.element, event);\r\n\r\n                if(container) {\r\n                    // I need to make my own object because the objects returned by Element.getBoundClientRect are readonly\r\n                    // and Object.assign({}, rect) doesn't map over the properties.\r\n                    let _container = {\r\n                        left: container.left,\r\n                        top: container.top,\r\n                        bottom: container.bottom,\r\n                        right: container.right\r\n                    };\r\n\r\n                    if(this.grid) {\r\n                        if (this.grid.x) {\r\n                            _container.left = snapToGrid(container.left, this.grid.x, Math.ceil);\r\n                            _container.right = snapToGrid(container.right, this.grid.x, Math.floor);\r\n                        }\r\n\r\n                        if (this.grid.y) {\r\n                            _container.top = snapToGrid(container.top, this.grid.y, Math.ceil);\r\n                            _container.bottom = snapToGrid(container.bottom, this.grid.y, Math.floor);\r\n                        }\r\n                    }\r\n\r\n                    container = _container;\r\n                }\r\n            }\r\n\r\n            if(this.grid) {\r\n                left = snapToGrid(left, this.grid.x);\r\n                top = snapToGrid(top, this.grid.y);\r\n                right = snapToGrid(right, this.grid.x);\r\n                bottom = snapToGrid(bottom, this.grid.y);\r\n            }\r\n\r\n            if(container) {\r\n                left = clamp(left, container.left, container.right);\r\n                right = clamp(right, container.left, container.right);\r\n                bottom = clamp(bottom, container.top, container.bottom);\r\n                top = clamp(top, container.top, container.bottom);\r\n            }\r\n\r\n            if(this.keepAspectRatio) {\r\n                if(direction === 'top-left' || direction === 'top-right') {\r\n                    top = bottom - ((right - left) * this.keepAspectRatio);\r\n                } else if(direction === 'bottom-left' || direction === 'bottom-right' || direction === 'left' || direction === 'right') {\r\n                    bottom = top + ((right - left) * this.keepAspectRatio);\r\n                } else if(direction === 'bottom' || direction === 'top') {\r\n                    right = left + ((bottom - top) / this.keepAspectRatio);\r\n                }\r\n            }\r\n\r\n            setElementClientPosition(target, {left, top}, 'translate3d');\r\n            target.style.width = `${right - left}px`;\r\n            target.style.height = `${bottom - top}px`;\r\n\r\n            rect.left = left + window.scrollX;\r\n            rect.top = top + window.scrollY;\r\n            rect.width = right - left;\r\n            rect.height = bottom - top;\r\n            rect.right = right + window.scrollX;\r\n            rect.bottom = bottom + window.scrollY;\r\n\r\n            this.element.dispatchEvent(new CustomEvent('resizing', {\r\n                bubbles: true,\r\n                detail: {\r\n                    resizeable: this,\r\n                    target: target,\r\n                    originalEvent: event,\r\n                    clientX: event.clientX,\r\n                    clientY: event.clientY,\r\n                    element: this.element,\r\n\r\n                    targetClientRect: {\r\n                        left: left,\r\n                        top: top,\r\n                        right: right,\r\n                        bottom: bottom,\r\n                        width: right - left,\r\n                        height: bottom - top,\r\n                        x: left,\r\n                        y: top\r\n                    }\r\n                }\r\n            }));\r\n        };\r\n\r\n        let onMouseUp = event => {\r\n            doc.removeEventListener('mousemove', onMouseMove);\r\n            doc.removeEventListener('mouseup', onMouseUp);\r\n\r\n            if(this.element !== target) {\r\n                target.parentElement.removeChild(target);\r\n\r\n                setElementClientPosition(this.element, {\r\n                    left: rect.left - window.scrollX,\r\n                    top: rect.top - window.scrollY\r\n                }, 'translate3d');\r\n\r\n                this.element.style.width = `${rect.width}px`;\r\n                this.element.style.height = `${rect.height}px`;\r\n            }\r\n\r\n            this.element.classList.remove('ui-resizing');\r\n            this.isResizing = false;\r\n\r\n            this.element.dispatchEvent(new CustomEvent('resize-end', {\r\n                bubbles: true,\r\n                detail: {\r\n                    resizeable: this,\r\n                    element: this.element,\r\n                    originalEvent: event,\r\n                    clientX: event.clientX,\r\n                    clientY: event.clientY\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.isResizing = true;\r\n        this.element.classList.add('ui-resizing');\r\n        doc.addEventListener('mousemove', onMouseMove);\r\n        doc.addEventListener('mouseup', onMouseUp);\r\n\r\n        this.element.dispatchEvent(new CustomEvent('resize-start', {\r\n            bubbles: true,\r\n            detail: {\r\n                resizeable: this,\r\n                target: target,\r\n                originalEvent: event,\r\n                clientX: event.clientX,\r\n                clientY: event.clientY,\r\n                element: this.element\r\n            }\r\n        }));\r\n    }\r\n}\r\n","export function isSuperset(set, subset) {\r\n    for (let elem of subset) {\r\n        if (!set.has(elem)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nfunction union(setA, setB) {\r\n    let _union = new Set(setA);\r\n    for (let elem of setB) {\r\n        _union.add(elem);\r\n    }\r\n    return _union;\r\n}\r\n\r\n\r\nfunction intersection(setA, setB) {\r\n    let _intersection = new Set();\r\n    for (let elem of setB) {\r\n        if (setA.has(elem)) {\r\n            _intersection.add(elem);\r\n        }\r\n    }\r\n    return _intersection;\r\n}\r\n\r\n\r\nfunction symmetricDifference(setA, setB) {\r\n    let _difference = new Set(setA);\r\n    for (let elem of setB) {\r\n        if (_difference.has(elem)) {\r\n            _difference.delete(elem);\r\n        } else {\r\n            _difference.add(elem);\r\n        }\r\n    }\r\n    return _difference;\r\n}\r\n\r\n\r\nfunction difference(setA, setB) {\r\n    let _difference = new Set(setA);\r\n    for (let elem of setB) {\r\n        _difference.delete(elem);\r\n    }\r\n    return _difference;\r\n}\r\n"],"sourceRoot":""}