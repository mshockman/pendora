{"version":3,"sources":["webpack://pendora/./src/core/fx/effects.js"],"names":["fullRectSymbol","Symbol","startingRectSymbol","fxSymbol","SlideIn","duration","axis","frames","size","applyFrame","fx","frame","element","getAxis","rect","style","maxHeight","maxWidth","width","height","onComplete","options","Rect","getBoundingClientRect","fullRect","getCleanBoundingClientRect","complete","clamp","Animation","SlideOut","SlideInY","SlideOutY","SlideInX","SlideOutX","IOAnimationBase","showFX","hideFX","immediate","hasFX","cancel","animate","autoPlay","position","result","SlideInAndOut","FadeIn","opacity","getComputedStyle","parseFloat","FadeOut","FadeInAndOut"],"mappings":"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","file":"chunk-11.bundle.js","sourcesContent":["import Animation from \"./Animation\";\r\nimport Rect from \"../vectors/Rect\";\r\nimport {clamp} from \"../utility\";\r\n\r\n\r\nconst fullRectSymbol = Symbol('FullRect'),\r\n    startingRectSymbol = Symbol(\"StartingRect\"),\r\n    fxSymbol = Symbol('fx');\r\n\r\n\r\nexport class SlideIn extends Animation {\r\n    #axis;\r\n\r\n    constructor(duration, axis) {\r\n        super({\r\n            duration,\r\n\r\n            frames: {\r\n                '0%': {size: 0},\r\n                '100%': {size: 1}\r\n            },\r\n\r\n            applyFrame: (fx, frame) => {\r\n                let element = fx.element,\r\n                    axis = this.getAxis(element),\r\n                    rect = fx[fullRectSymbol];\r\n\r\n                if(axis === 'x') {\r\n                    element.style.maxHeight = \"\";\r\n                    element.style.maxWidth = `${rect.width * frame.size}px`;\r\n                } else if(axis === 'y') {\r\n                    element.style.maxWidth = \"\";\r\n                    element.style.maxHeight = `${rect.height * frame.size}px`;\r\n                } else {\r\n                    element.style.maxWidth = `${rect.width * frame.size}px`;\r\n                    element.style.maxHeight = `${rect.height * frame.size}px`;\r\n                }\r\n            }\r\n        });\r\n\r\n        this.#axis = axis;\r\n    }\r\n\r\n    init({element, duration, frames, onComplete=null, ...options}) {\r\n        let axis = this.getAxis(element),\r\n            rect = Rect.getBoundingClientRect(element),\r\n            fullRect = Rect.getCleanBoundingClientRect(element),\r\n            complete;\r\n\r\n        if(axis === 'x') {\r\n            complete = clamp(rect.width / fullRect.width, 0, 1);\r\n        } else if(axis === 'y') {\r\n            complete = clamp(rect.height / fullRect.height, 0, 1);\r\n        } else if(axis === 'xy') {\r\n            complete = clamp(rect.width / fullRect.width, 0, 1);\r\n        }\r\n\r\n        let fx = super.init({\r\n            element,\r\n            frames,\r\n            duration: duration,\r\n\r\n            onComplete: (fx) => {\r\n                  // Shouldn't be needed at this point.\r\n                  fx.element.style.maxWidth = \"\";\r\n                  fx.element.style.maxHeight = \"\";\r\n\r\n                  if(onComplete) {\r\n                      onComplete(fx);\r\n                  }\r\n            },\r\n\r\n            ...options\r\n        });\r\n\r\n        fx[fullRectSymbol] = fullRect;\r\n        fx[startingRectSymbol] = rect;\r\n\r\n        fx.goto(complete);\r\n\r\n        return fx;\r\n    }\r\n\r\n    destroy(fx) {\r\n\r\n    }\r\n\r\n    getAxis(element) {\r\n        if(typeof this.#axis === 'function') {\r\n            return this.#axis(element);\r\n        } else {\r\n            return this.#axis;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class SlideOut extends Animation {\r\n    #axis;\r\n\r\n    constructor(duration, axis) {\r\n        super({\r\n            duration,\r\n\r\n            frames: {\r\n                '0%': {size: 1},\r\n                '100%': {size: 0}\r\n            },\r\n\r\n            applyFrame: (fx, frame) => {\r\n                let element = fx.element,\r\n                    axis = this.getAxis(element),\r\n                    rect = fx[fullRectSymbol];\r\n\r\n                if(axis === 'x') {\r\n                    element.style.maxHeight = \"\";\r\n                    element.style.maxWidth = `${rect.width * frame.size}px`;\r\n                } else if(axis === 'y') {\r\n                    element.style.maxWidth = \"\";\r\n                    element.style.maxHeight = `${rect.height * frame.size}px`;\r\n                } else {\r\n                    element.style.maxWidth = `${rect.width * frame.size}px`;\r\n                    element.style.maxHeight = `${rect.height * frame.size}px`;\r\n                }\r\n            }\r\n        });\r\n\r\n        this.#axis = axis;\r\n    }\r\n\r\n    init({element, duration, frames, ...options}) {\r\n        let axis = this.getAxis(element),\r\n            rect = Rect.getBoundingClientRect(element),\r\n            fullRect = Rect.getCleanBoundingClientRect(element),\r\n            complete;\r\n\r\n        if(axis === 'x') {\r\n            complete = clamp(rect.width / fullRect.width, 0, 1);\r\n        } else if(axis === 'y') {\r\n            complete = clamp(rect.height / fullRect.height, 0, 1);\r\n        } else if(axis === 'xy') {\r\n            complete = clamp(rect.width / fullRect.width, 0, 1);\r\n        }\r\n\r\n        complete = 1 - complete;\r\n\r\n        let fx = super.init({\r\n            element,\r\n            frames,\r\n            duration: duration,\r\n            ...options\r\n        });\r\n\r\n        fx[fullRectSymbol] = fullRect;\r\n        fx[startingRectSymbol] = rect;\r\n\r\n        fx.goto(complete);\r\n\r\n        return fx;\r\n    }\r\n\r\n    destroy(fx) {\r\n\r\n    }\r\n\r\n    getAxis(element) {\r\n        if(typeof this.#axis === 'function') {\r\n            return this.#axis(element);\r\n        } else {\r\n            return this.#axis;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class SlideInY extends SlideIn {\r\n    constructor(duration) {\r\n        super(duration, 'y');\r\n    }\r\n}\r\n\r\n\r\nexport class SlideOutY extends SlideOut {\r\n    constructor(duration) {\r\n        super(duration, 'y');\r\n    }\r\n}\r\n\r\n\r\nexport class SlideInX extends SlideIn {\r\n    constructor(duration) {\r\n        super(duration, 'x');\r\n    }\r\n}\r\n\r\n\r\nexport class SlideOutX extends SlideOut {\r\n    constructor(duration) {\r\n        super(duration, 'x');\r\n    }\r\n}\r\n\r\n\r\nexport class IOAnimationBase {\r\n    #showFX;\r\n    #hideFX;\r\n\r\n    constructor(showFX, hideFX) {\r\n        this.#showFX = showFX;\r\n        this.#hideFX = hideFX;\r\n    }\r\n\r\n    async show(element, immediate=false, options={}) {\r\n        if(this.hasFX(element)) {\r\n            await this.cancel(element);\r\n        }\r\n\r\n        options = {...options};\r\n\r\n        if(immediate) {\r\n            await this.#showFX.animate(element, {\r\n                ...options,\r\n                autoPlay: false,\r\n                position: 1\r\n            });\r\n\r\n            return Animation.complete;\r\n        } else {\r\n            let fx = this.#showFX.animate(element, {\r\n                ...options,\r\n                autoPlay: true\r\n            }), result;\r\n\r\n            element[fxSymbol] = fx;\r\n            result = await fx;\r\n            delete element[fxSymbol];\r\n            return result;\r\n        }\r\n    }\r\n\r\n    async hide(element, immediate=false, options={}) {\r\n        if(this.hasFX(element)) {\r\n            await this.cancel(element);\r\n        }\r\n\r\n        if(immediate) {\r\n            await this.#hideFX.animate(element, {\r\n                ...options,\r\n                autoPlay: false,\r\n                position: 1\r\n            });\r\n\r\n            return Animation.complete;\r\n        } else {\r\n            let fx = this.#hideFX.animate(element, {\r\n                ...options,\r\n                autoPlay: true\r\n            }), result;\r\n\r\n            element[fxSymbol] = fx;\r\n            result = await fx;\r\n            delete element[fxSymbol];\r\n\r\n            return result;\r\n        }\r\n    }\r\n\r\n    cancel(element) {\r\n        if(element[fxSymbol]) {\r\n            element[fxSymbol].cancel();\r\n            delete element[fxSymbol];\r\n        }\r\n    }\r\n\r\n    hasFX(element) {\r\n        return !!element[fxSymbol];\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Will slide an element in and out by the given axis.\r\n */\r\nexport class SlideInAndOut extends IOAnimationBase {\r\n    constructor(duration, axis) {\r\n        let showFX = new SlideIn(duration, axis),\r\n            hideFX = new SlideOut(duration, axis);\r\n\r\n        super(showFX, hideFX);\r\n    }\r\n}\r\n\r\n\r\nexport class FadeIn extends Animation {\r\n    constructor(duration) {\r\n        super({\r\n            duration,\r\n\r\n            frames: {\r\n                '0%': {opacity: 0},\r\n                '100%': {opacity: 1}\r\n            }\r\n        });\r\n    }\r\n\r\n    init({element, ...options}) {\r\n        let style = getComputedStyle(element),\r\n            complete = parseFloat(style.opacity);\r\n\r\n        let fx = super.init({\r\n            element,\r\n            ...options\r\n        });\r\n\r\n        fx.goto(complete);\r\n\r\n        return fx;\r\n    }\r\n\r\n    destroy(fx) {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport class FadeOut extends Animation {\r\n    constructor(duration) {\r\n        super({\r\n            duration,\r\n\r\n            frames: {\r\n                '0%': {opacity: 1},\r\n                '100%': {opacity: 0}\r\n            }\r\n        });\r\n    }\r\n\r\n    init({element, ...options}) {\r\n        let style = getComputedStyle(element),\r\n            complete = parseFloat(style.opacity);\r\n\r\n        let fx = super.init({\r\n            element,\r\n            ...options\r\n        });\r\n\r\n        complete = 1 - complete;\r\n\r\n        fx.goto(complete);\r\n\r\n        return fx;\r\n    }\r\n\r\n    destroy(fx) {\r\n\r\n    }\r\n}\r\n\r\n\r\nexport class FadeInAndOut extends IOAnimationBase {\r\n    constructor(duration) {\r\n        super(\r\n            new FadeIn(duration),\r\n            new FadeOut(duration)\r\n        );\r\n    }\r\n}\r\n"],"sourceRoot":""}