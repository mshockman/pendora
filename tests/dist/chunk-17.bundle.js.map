{"version":3,"sources":["webpack://pendora/./src/core/ui/Modal.js","webpack://pendora/./tests/src/test_modal.js"],"names":["Modal","element","closeOnClick","showFX","hideFX","showDuration","hideDuration","timeout","removeOnHide","document","createElement","classList","add","Overlay","hiddenClassName","visibleClassName","addEventListener","event","dismiss","target","closest","stopPropagation","hide","contains","show","immediate","state","visible","showing","Component","TestModalPage","modal","querySelector","console","log","window","testModal"],"mappings":"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","file":"chunk-17.bundle.js","sourcesContent":["import Component from \"../Component\";\r\nimport Overlay from \"./Overlay\";\r\n\r\n\r\nexport default class Modal extends Component {\r\n    #overlay;\r\n\r\n    constructor({element=null, closeOnClick=true, showFX=null, hideFX=null, showDuration=null, hideDuration=null, timeout=null, removeOnHide=false}={}) {\r\n        if(!element) {\r\n            element = document.createElement('div');\r\n        }\r\n\r\n        super(element);\r\n\r\n        this.element.classList.add('modal');\r\n\r\n        this.closeOnClick = closeOnClick;\r\n        this.#overlay = new Overlay(this.element, {showFX, showDuration, hideFX, hideDuration, hiddenClassName: \"closed\", visibleClassName: \"open\", timeout, removeOnHide});\r\n\r\n        this.element.addEventListener('click', event => {\r\n            let dismiss = event.target.closest(\"[data-dismiss]\");\r\n\r\n            if(dismiss || (this.closeOnClick && event.target === this.element)) {\r\n                event.stopPropagation();\r\n                this.hide();\r\n            }\r\n        });\r\n\r\n        if(this.classList.contains('open')) {\r\n            this.show(true);\r\n        } else {\r\n            this.hide(true);\r\n        }\r\n    }\r\n\r\n    async show(immediate) {\r\n        return this.#overlay.show(immediate);\r\n    }\r\n\r\n    hide(immediate) {\r\n        return this.#overlay.hide(immediate);\r\n    }\r\n\r\n    get isVisible() {\r\n        return this.state === Overlay.visible || this.state === Overlay.showing;\r\n    }\r\n\r\n    get state() {\r\n        return this.#overlay.state;\r\n    }\r\n}\r\n","import Modal from \"../../src/core/ui/Modal\";\r\n\r\n\r\nexport default class TestModalPage {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    load() {\r\n        let modal = new Modal({element: '#my-modal'});\r\n\r\n        document.querySelector(\"#show-modal1-btn\").addEventListener('click', () => {\r\n            modal.show();\r\n            console.log(modal.state);\r\n        });\r\n\r\n        this.modal = modal;\r\n        window.testModal = modal;\r\n    }\r\n}\r\n"],"sourceRoot":""}