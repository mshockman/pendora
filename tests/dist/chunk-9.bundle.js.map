{"version":3,"sources":["webpack://pendora/./src/core/ui/Resizeable.js","webpack://pendora/./src/core/utility/set.js","webpack://pendora/./tests/src/test_resizeable.js"],"names":["DIRECTIONS","Set","CONTAINERS","client","left","top","right","window","innerWidth","bottom","innerHeight","height","width","viewport","element","parent","_getScrollParent","bb","getBoundingClientRect","scrollLeft","scrollTop","scrollWidth","scrollHeight","Resizeable","handles","helper","minWidth","maxWidth","minHeight","maxHeight","keepAspectRatio","autoHide","container","grid","document","querySelector","classList","add","split","isSuperset","TypeError","direction","handle","createElement","dataset","appendChild","_onMouseDown","event","_startResizing","addEventListener","x","y","Array","isArray","isResizing","target","closest","contains","resizeable","preventDefault","startPosX","clientX","scrollX","startPosY","clientY","scrollY","doc","startingClientRect","startBox","clientRectToDocumentSpace","rect","call","addClasses","style","boxSizing","getComputedStyle","parentElement","setElementClientPosition","onMouseMove","deltaX","deltaY","undefined","Infinity","clamp","_container","snapToGrid","Math","ceil","floor","console","log","dispatchEvent","CustomEvent","bubbles","detail","originalEvent","targetClientRect","onMouseUp","removeEventListener","removeChild","remove","set","subset","elem","has","union","setA","setB","_union","intersection","_intersection","symmetricDifference","_difference","difference","documentRectToClientSpace","ResizeableTestPage","element1","draggable","Draggable","exclude"],"mappings":"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","file":"chunk-9.bundle.js","sourcesContent":["import {isSuperset} from 'core/utility/set';\r\nimport {clientRectToDocumentSpace, setElementClientPosition, snapToGrid} from 'core/ui/position';\r\nimport {clamp} from \"../utility/math\";\r\nimport {addClasses} from \"../utility/dom\";\r\n\r\n\r\nconst DIRECTIONS = new Set([\r\n    'top-left',\r\n    'top',\r\n    'top-right',\r\n    'right',\r\n    'bottom-right',\r\n    'bottom',\r\n    'bottom-left',\r\n    'left'\r\n]);\r\n\r\n\r\nexport const CONTAINERS = {\r\n    /**\r\n     * Constrains to client area.\r\n     * @returns {{top: number, left: number, width: number, height: number}}\r\n     */\r\n    client: function() {\r\n        return {\r\n            left: 0,\r\n            top: 0,\r\n            right: window.innerWidth,\r\n            bottom: window.innerHeight,\r\n            height: window.innerHeight,\r\n            width: window.innerWidth\r\n        };\r\n    },\r\n\r\n    /**\r\n     * Constrains to viewport.\r\n     * @param element\r\n     * @returns {{top: number, left: number, width: number, height: number}}\r\n     */\r\n    viewport: function(element) {\r\n        let parent = _getScrollParent(element),\r\n            bb = parent.getBoundingClientRect();\r\n\r\n        return {\r\n            left: bb.left - parent.scrollLeft,\r\n            top: bb.top - parent.scrollTop,\r\n            width: parent.scrollWidth,\r\n            height: parent.scrollHeight,\r\n            right: (bb.left - parent.scrollLeft) + parent.scrollWidth,\r\n            bottom: (bb.top - parent.scrollTop) + parent.scrollHeight\r\n        };\r\n    }\r\n};\r\n\r\n\r\n/**\r\n * Behavior class that makes an element resizeable.\r\n */\r\nexport default class Resizeable {\r\n    constructor(element, {handles=\"bottom-right\", helper=null, minWidth=null, maxWidth=null, minHeight=null, maxHeight=null,\r\n        keepAspectRatio=false, autoHide=false, container=null, grid=null}={}) {\r\n        if(typeof element === 'string') {\r\n            this.element = document.querySelector(element);\r\n        } else {\r\n            this.element = element;\r\n        }\r\n\r\n        this.handles = {};\r\n        this.element.classList.add('ui-resizeable');\r\n\r\n        if(handles === 'all') {\r\n            handles = new Set(DIRECTIONS);\r\n        } else {\r\n            handles = new Set(handles.split(/\\s+/));\r\n        }\r\n\r\n        if(!isSuperset(DIRECTIONS, handles)) {\r\n            throw new TypeError(\"Invalid direction.\");\r\n        }\r\n\r\n        for(let direction of handles) {\r\n            let handle = document.createElement('div');\r\n            handle.classList.add('ui-resizeable-handle');\r\n            handle.classList.add(`ui-resizeable-${direction}`);\r\n            handle.dataset.direction = direction;\r\n            this.handles[direction] = handle;\r\n            this.element.appendChild(handle);\r\n        }\r\n\r\n        this._onMouseDown = (event) => {\r\n            this._startResizing(event);\r\n        };\r\n\r\n        this.element.addEventListener('mousedown', this._onMouseDown);\r\n\r\n        if(typeof grid === 'number') {\r\n            this.grid = {\r\n                x: grid,\r\n                y: grid\r\n            };\r\n        } else if(Array.isArray(grid)) {\r\n            this.grid = {\r\n                x: grid[0],\r\n                y: grid[1]\r\n            };\r\n        } else {\r\n            this.grid = grid;\r\n        }\r\n\r\n        this.helper = helper;\r\n        this.minWidth = minWidth;\r\n        this.maxWidth = maxWidth;\r\n        this.minHeight = minHeight;\r\n        this.maxHeight = maxHeight;\r\n        this.keepAspectRatio = keepAspectRatio;\r\n        this.isResizing = false;\r\n        this.container = container;\r\n    }\r\n\r\n    _startResizing(event) {\r\n        if(this.isResizing) return;\r\n        let handle = event.target.closest('.ui-resizeable-handle');\r\n        if(!handle || !this.element.contains(handle)) return;\r\n        let resizeable = handle.closest('.ui-resizeable');\r\n        if(!resizeable || resizeable !== this.element) return;\r\n\r\n        event.preventDefault();\r\n\r\n        let direction = handle.dataset.direction,\r\n            startPosX = event.clientX + window.scrollX,\r\n            startPosY = event.clientY + window.scrollY,\r\n            doc = document,\r\n            startingClientRect = this.element.getBoundingClientRect(),\r\n            startBox = clientRectToDocumentSpace(startingClientRect),\r\n            target = this.element,\r\n            rect = {left: startBox.left, top: startBox.top, width: startBox.width, height: startBox.height};\r\n\r\n        if(this.helper) {\r\n            if(typeof this.helper === 'function') {\r\n                target = this.helper.call(this, this.element);\r\n            } else {\r\n                target = document.createElement('div');\r\n                addClasses(target, this.helper);\r\n            }\r\n\r\n            target.classList.add('ui-resizeable-helper');\r\n            target.style.width = startBox.width + 'px';\r\n            target.style.height = startBox.height + 'px';\r\n            target.style.boxSizing = getComputedStyle(this.element).boxSizing;\r\n            this.element.parentElement.appendChild(target);\r\n            setElementClientPosition(target, startingClientRect, 'translate3d');\r\n            setElementClientPosition(target, this.element.getBoundingClientRect(), 'translate3d');\r\n        }\r\n\r\n        let onMouseMove = event => {\r\n            let deltaX = event.clientX - (startPosX - window.scrollX),\r\n                deltaY = event.clientY - (startPosY - window.scrollY),\r\n                left = startBox.left,\r\n                top = startBox.top,\r\n                right = startBox.right - window.scrollX,\r\n                bottom = startBox.bottom - window.scrollY,\r\n                minWidth = this.minWidth !== null && this.minWidth !== undefined ? this.minWidth : 0,\r\n                maxWidth = this.maxWidth !== null && this.maxWidth !== undefined ? this.maxWidth : Infinity,\r\n                minHeight = this.minHeight !== null && this.maxHeight !== undefined ? this.minHeight : 0,\r\n                maxHeight = this.maxHeight !== null && this.maxHeight !== undefined ? this.maxHeight : Infinity;\r\n\r\n            if(direction === 'right' || direction === 'bottom-right' || direction === 'top-right') {\r\n                right += deltaX;\r\n                right = clamp(right, left + minWidth, left + maxWidth);\r\n            } else if(direction === 'left' || direction === 'top-left' || direction === 'bottom-left') {\r\n                left += deltaX;\r\n                left = clamp(left, right - maxWidth, right - minWidth);\r\n            }\r\n\r\n            if(direction === 'bottom' || direction === 'bottom-right' || direction === 'bottom-left') {\r\n                bottom = clamp(bottom + deltaY, top + minHeight, top + maxHeight);\r\n            } else if(direction === 'top' || direction === 'top-left' || direction === 'top-right') {\r\n                top = clamp(top + deltaY, bottom - maxHeight, bottom - minHeight);\r\n            }\r\n\r\n            let container;\r\n\r\n            if(this.container) {\r\n                container = this.container.call(this, this.element, event);\r\n\r\n                if(container) {\r\n                    // I need to make my own object because the objects returned by Element.getBoundClientRect are readonly\r\n                    // and Object.assign({}, rect) doesn't map over the properties.\r\n                    let _container = {\r\n                        left: container.left,\r\n                        top: container.top,\r\n                        bottom: container.bottom,\r\n                        right: container.right\r\n                    };\r\n\r\n                    if(this.grid) {\r\n                        if (this.grid.x) {\r\n                            _container.left = snapToGrid(container.left, this.grid.x, Math.ceil);\r\n                            _container.right = snapToGrid(container.right, this.grid.x, Math.floor);\r\n                        }\r\n\r\n                        if (this.grid.y) {\r\n                            _container.top = snapToGrid(container.top, this.grid.y, Math.ceil);\r\n                            _container.bottom = snapToGrid(container.bottom, this.grid.y, Math.floor);\r\n                        }\r\n                    }\r\n\r\n                    container = _container;\r\n                }\r\n            }\r\n\r\n            if(this.grid) {\r\n                left = snapToGrid(left, this.grid.x);\r\n                top = snapToGrid(top, this.grid.y);\r\n                right = snapToGrid(right, this.grid.x);\r\n                bottom = snapToGrid(bottom, this.grid.y);\r\n            }\r\n\r\n            console.log(left, right, bottom, top);\r\n            console.log(container);\r\n\r\n            if(container) {\r\n                left = clamp(left, container.left, container.right);\r\n                right = clamp(right, container.left, container.right);\r\n                bottom = clamp(bottom, container.top, container.bottom);\r\n                top = clamp(top, container.top, container.bottom);\r\n            }\r\n\r\n            if(this.keepAspectRatio) {\r\n                if(direction === 'top-left' || direction === 'top-right') {\r\n                    top = bottom - ((right - left) * this.keepAspectRatio);\r\n                } else if(direction === 'bottom-left' || direction === 'bottom-right' || direction === 'left' || direction === 'right') {\r\n                    bottom = top + ((right - left) * this.keepAspectRatio);\r\n                } else if(direction === 'bottom' || direction === 'top') {\r\n                    right = left + ((bottom - top) / this.keepAspectRatio);\r\n                }\r\n            }\r\n\r\n            setElementClientPosition(target, {left, top}, 'translate3d');\r\n            target.style.width = `${right - left}px`;\r\n            target.style.height = `${bottom - top}px`;\r\n\r\n            rect.left = left + window.scrollX;\r\n            rect.top = top + window.scrollY;\r\n            rect.width = right - left;\r\n            rect.height = bottom - top;\r\n            rect.right = right + window.scrollX;\r\n            rect.bottom = bottom + window.scrollY;\r\n\r\n            this.element.dispatchEvent(new CustomEvent('resizing', {\r\n                bubbles: true,\r\n                detail: {\r\n                    resizeable: this,\r\n                    target: target,\r\n                    originalEvent: event,\r\n                    clientX: event.clientX,\r\n                    clientY: event.clientY,\r\n                    element: this.element,\r\n\r\n                    targetClientRect: {\r\n                        left: left,\r\n                        top: top,\r\n                        right: right,\r\n                        bottom: bottom,\r\n                        width: right - left,\r\n                        height: bottom - top,\r\n                        x: left,\r\n                        y: top\r\n                    }\r\n                }\r\n            }));\r\n        };\r\n\r\n        let onMouseUp = event => {\r\n            doc.removeEventListener('mousemove', onMouseMove);\r\n            doc.removeEventListener('mouseup', onMouseUp);\r\n\r\n            if(this.element !== target) {\r\n                target.parentElement.removeChild(target);\r\n\r\n                setElementClientPosition(this.element, {\r\n                    left: rect.left - window.scrollX,\r\n                    top: rect.top - window.scrollY\r\n                }, 'translate3d');\r\n\r\n                this.element.style.width = `${rect.width}px`;\r\n                this.element.style.height = `${rect.height}px`;\r\n            }\r\n\r\n            this.element.classList.remove('ui-resizing');\r\n            this.isResizing = false;\r\n\r\n            this.element.dispatchEvent(new CustomEvent('resize-end', {\r\n                bubbles: true,\r\n                detail: {\r\n                    resizeable: this,\r\n                    element: this.element,\r\n                    originalEvent: event,\r\n                    clientX: event.clientX,\r\n                    clientY: event.clientY\r\n                }\r\n            }));\r\n        };\r\n\r\n        this.isResizing = true;\r\n        this.element.classList.add('ui-resizing');\r\n        doc.addEventListener('mousemove', onMouseMove);\r\n        doc.addEventListener('mouseup', onMouseUp);\r\n\r\n        this.element.dispatchEvent(new CustomEvent('resize-start', {\r\n            bubbles: true,\r\n            detail: {\r\n                resizeable: this,\r\n                target: target,\r\n                originalEvent: event,\r\n                clientX: event.clientX,\r\n                clientY: event.clientY,\r\n                element: this.element\r\n            }\r\n        }));\r\n    }\r\n}\r\n","export function isSuperset(set, subset) {\r\n    for (let elem of subset) {\r\n        if (!set.has(elem)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\r\n\r\n\r\nfunction union(setA, setB) {\r\n    let _union = new Set(setA);\r\n    for (let elem of setB) {\r\n        _union.add(elem);\r\n    }\r\n    return _union;\r\n}\r\n\r\n\r\nfunction intersection(setA, setB) {\r\n    let _intersection = new Set();\r\n    for (let elem of setB) {\r\n        if (setA.has(elem)) {\r\n            _intersection.add(elem);\r\n        }\r\n    }\r\n    return _intersection;\r\n}\r\n\r\n\r\nfunction symmetricDifference(setA, setB) {\r\n    let _difference = new Set(setA);\r\n    for (let elem of setB) {\r\n        if (_difference.has(elem)) {\r\n            _difference.delete(elem);\r\n        } else {\r\n            _difference.add(elem);\r\n        }\r\n    }\r\n    return _difference;\r\n}\r\n\r\n\r\nfunction difference(setA, setB) {\r\n    let _difference = new Set(setA);\r\n    for (let elem of setB) {\r\n        _difference.delete(elem);\r\n    }\r\n    return _difference;\r\n}\r\n","import Resizeable, {CONTAINERS} from 'core/ui/Resizeable';\r\nimport Draggable from 'core/ui/Draggable';\r\nimport {clientRectToDocumentSpace, documentRectToClientSpace} from 'core/ui/position';\r\n\r\n\r\nwindow.clientRectToDocumentSpace = clientRectToDocumentSpace;\r\nwindow.documentRectToClientSpace = documentRectToClientSpace;\r\n\r\n\r\nexport default class ResizeableTestPage {\r\n    constructor() {\r\n\r\n    }\r\n\r\n    load() {\r\n        let element1 = document.querySelector('#test-resizeable1');\r\n\r\n        this.draggable = new Draggable(element1, {exclude: '.ui-resizeable-handle', container: CONTAINERS.client});\r\n        this.resizeable = new Resizeable(element1, {handles: 'all', helper: 'test-helper', container: CONTAINERS.client, keepAspectRatio: 0.5625});\r\n        this.element1 = element1;\r\n    }\r\n}\r\n"],"sourceRoot":""}