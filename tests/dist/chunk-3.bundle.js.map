{"version":3,"sources":["webpack://pendora/./src/core/Component.js"],"names":["SYMBOLS","appendChild","Symbol","Component","element","selectElement","selector","document","querySelector","nodeType","parentElement","removeChild","Rect","getBoundingClientRect","name","getAttribute","hasAttribute","removeAttribute","value","setAttribute","classes","addClasses","removeClasses","fn","time","interval","clear","cancel","_timers","KeyError","timer","status","id","type","setInterval","call","clearInterval","setTimeout","clearTimeout","getTimer","classList","contains","isDisabled","remove","add","style","dataset","Publisher"],"mappings":"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","file":"chunk-3.bundle.js","sourcesContent":["import Publisher from \"./Publisher\";\r\nimport {selectElement, addClasses, removeClasses} from \"./utility\";\r\nimport Rect from \"./vectors/Rect\";\r\nimport {KeyError} from \"./errors\";\r\n\r\n\r\nexport const SYMBOLS = {\r\n    appendChild: Symbol(\"appendChild\")\r\n};\r\n\r\n\r\nexport default class Component extends Publisher {\r\n    #element;\r\n    #timers;\r\n\r\n    constructor(element) {\r\n        super();\r\n\r\n        this.#element = selectElement(element);\r\n    }\r\n\r\n    render() {\r\n\r\n    }\r\n\r\n    appendTo(selector) {\r\n        if(typeof selector === 'string') {\r\n            document.querySelector(selector).appendChild(this.#element);\r\n        } else if(selector.nodeType && selector.appendChild) {\r\n            selector.appendChild(this.#element);\r\n        } else if(selector[SYMBOLS.appendChild]) {\r\n            selector[SYMBOLS].appendChild(this.#element);\r\n        } else if(selector.#element) {\r\n            selector.#element.appendChild(this.#element);\r\n        }\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    removeFrom() {\r\n        if(this.#element.parentElement) {\r\n            this.#element.parentElement.removeChild(this.#element);\r\n        }\r\n    }\r\n\r\n    getBoundingClientRect() {\r\n        return Rect.getBoundingClientRect(this.#element);\r\n    }\r\n\r\n    getAttribute(name) {\r\n        return this.#element.getAttribute(name);\r\n    }\r\n\r\n    hasAttribute(name) {\r\n        return this.#element.hasAttribute(name);\r\n    }\r\n\r\n    removeAttribute(name) {\r\n        return this.#element.removeAttribute(name);\r\n    }\r\n\r\n    setAttribute(name, value) {\r\n        return this.#element.setAttribute(name, value);\r\n    }\r\n\r\n    addClass(classes) {\r\n        return addClasses(this.#element, classes);\r\n    }\r\n\r\n    removeClass(classes) {\r\n        return removeClasses(this.#element, classes);\r\n    }\r\n\r\n    /**\r\n     * Creates a timer with the given name.  Only one timer with that name can be active per object.\r\n     * If another timer with the same name is created the previous one will be cleared if `clear` is true.\r\n     * Otherwise if `clear` is false a KeyError with be thrown.  The callback function for the timer is called\r\n     * with the current object as it's `this` and the timer object as it's only parameter following the pattern\r\n     *\r\n     * this::fn(timer);\r\n     *\r\n     * @param name {String} The name of the timer.\r\n     * @param fn {function(timer)} Function to call.\r\n     * @param time {Number} The time to wait.\r\n     * @param interval If true setInterval will be used instead of setTimeout\r\n     * @param clear If true an previous timers of the same name will be canceled before creating a new one.  Otherwise a KeyError will be thrown.\r\n     * @returns {{status, id, cancel, type}}\r\n     */\r\n    startTimer(name, fn, time, interval=false, clear=true) {\r\n        if(!this.#timers) {\r\n            this.#timers = {};\r\n        }\r\n\r\n        if(clear && this.#timers[name]) {\r\n            this.#timers[name].cancel();\r\n        } else if(this._timers[name]) {\r\n            throw new KeyError(\"Timer already exists.\");\r\n        }\r\n\r\n        let timer = this.#timers[name] = {\r\n            status: 'running',\r\n            id: null,\r\n            cancel: null,\r\n            type: null,\r\n        };\r\n\r\n        if(interval) {\r\n            let id = timer.id = setInterval((timer) => {\r\n                fn.call(this, timer);\r\n            }, time, timer);\r\n\r\n            timer.type = 'interval';\r\n\r\n            timer.cancel = () => {\r\n                if(this.#timers[name] === timer) {\r\n                    clearInterval(id);\r\n                    delete this.#timers[name];\r\n                    timer.status = 'canceled';\r\n                }\r\n            };\r\n        } else {\r\n            let id = timer.id = setTimeout((timer) => {\r\n                delete this.#timers[name];\r\n                timer.status = 'complete';\r\n                fn.call(this, timer);\r\n            }, time, timer);\r\n\r\n            timer.type = 'timeout';\r\n\r\n            timer.cancel = () => {\r\n                if(this.#timers[name] === timer) {\r\n                    clearTimeout(id);\r\n                    delete this.#timers[name];\r\n                    timer.status = 'canceled';\r\n                }\r\n            };\r\n        }\r\n\r\n        return timer;\r\n    }\r\n\r\n    /**\r\n     * Clears the timer with the given name.\r\n     *\r\n     * @param name\r\n     * @returns {boolean} True if a timer was canceled. False if not timer exists.\r\n     */\r\n    clearTimer(name) {\r\n        if(this.#timers && this.#timers[name]) {\r\n            this.#timers[name].cancel();\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    // noinspection JSUnusedGlobalSymbols\r\n    /**\r\n     * Returns the timer object if it exists.\r\n     *\r\n     * @param name\r\n     * @returns {*}\r\n     */\r\n    getTimer(name) {\r\n        return this.#timers && this.#timers[name] ? this.#timers[name] : null;\r\n    }\r\n\r\n    hasTimer(name) {\r\n        return !!this.getTimer(name);\r\n    }\r\n\r\n    get isDisabled() {\r\n        return this.classList.contains('disabled');\r\n    }\r\n\r\n    set isDisabled(value) {\r\n        let isDisabled = this.isDisabled;\r\n\r\n        if(!isDisabled && value) {\r\n            this.classList.remove('disabled');\r\n        } else if(isDisabled && !value) {\r\n            this.classList.add('disabled');\r\n        }\r\n    }\r\n\r\n    get disabled() {\r\n        return this.isDisabled;\r\n    }\r\n\r\n    set disabled(value) {\r\n        this.isDisabled = value;\r\n    }\r\n\r\n    get id() {\r\n        return this.#element.id;\r\n    }\r\n\r\n    set id(value) {\r\n        this.#element.id = value;\r\n    }\r\n\r\n    get style() {\r\n        return this.#element.style;\r\n    }\r\n\r\n    set style(value) {\r\n        this.#element.style = value;\r\n    }\r\n\r\n    get classList() {\r\n        return this.#element.classList;\r\n    }\r\n\r\n    set classList(value) {\r\n        this.#element.classList = value;\r\n    }\r\n\r\n    get dataset() {\r\n        return this.#element.dataset;\r\n    }\r\n\r\n    set dataset(value) {\r\n        this.#element.dataset = value;\r\n    }\r\n\r\n    get element() {\r\n        return this.#element;\r\n    }\r\n}\r\n"],"sourceRoot":""}