{"version":3,"sources":["webpack://pendora/./src/core/ui/Tooltip.js","webpack://pendora/./tests/src/test_tooltip.js"],"names":["tooltipSymbol","Symbol","getTooltipAnimationAxis","element","placement","dataset","SlideInToolTip","duration","SlideIn","SlideOutToolTip","SlideOut","ANIMATIONS","slideIn","slideOut","fadeIn","FadeIn","fadeOut","FadeOut","PLACEMENTS","top","my","at","collision","name","opposite","method","right","bottom","left","Tooltip","text","timeout","showFX","showDuration","hideFX","hideDuration","classes","id","removeOnHide","document","createElement","body","label","arrow","appendChild","innerHTML","className","addClasses","Overlay","setPlacement","hide","clearTimeOut","clearFX","parentElement","removeChild","target","type","lockToMouse","positionTarget","event","mouseX","mouseY","querySelector","onMouseOver","clientX","clientY","state","hiding","hidden","contains","relatedTarget","show","onMouseOut","visible","showing","onMouseMove","addEventListener","position","Rect","removeEventListener","onClick","onMouseMoveTarget","isMouseMoveBound","result","Animation","complete","rect","containerRect","pos","targetRect","getBoundingClientRect","getCleanBoundingClientRect","of","setElementClientPosition","fit","immediate","container","getClientRect","refreshPositionOnMouseMove","removeToolTip","tooltip","addClass","init","destroy","Component","ToolTipTestPage","initDebug","querySelectorAll","node","debug"],"mappings":"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","file":"chunk-8.bundle.js","sourcesContent":["import Component from \"../Component\";\nimport {Rect, setElementClientPosition} from \"./position\";\nimport Animation from \"../fx/Animation\";\nimport {SlideIn, SlideOut, FadeIn, FadeOut} from \"../fx/effects\";\nimport {addClasses} from \"../utility\";\nimport Overlay from \"./Overlay\";\n\n\nconst tooltipSymbol = Symbol('tooltip');\n\n\nfunction getTooltipAnimationAxis(element) {\n    let placement = element.dataset.placement;\n\n    if(placement === 'top' || placement === 'bottom') {\n        return 'y';\n    } else {\n        return 'x';\n    }\n}\n\n\n// /**\n//  * A specific slide in and out animation controller for tooltips.  The axis is determined by the placement of the\n//  * tooltip.\n//  */\n// export class SlideInAndOutTooltip extends SlideInAndOut {\n//     constructor(duration) {\n//         super(duration, getTooltipAnimationAxis);\n//     }\n// }\n\n\nexport class SlideInToolTip extends SlideIn {\n    constructor(duration) {\n        super(duration, getTooltipAnimationAxis);\n    }\n}\n\n\nexport class SlideOutToolTip extends SlideOut {\n    constructor(duration) {\n        super(duration, getTooltipAnimationAxis);\n    }\n}\n\n\n/**\n * Common animation that can be used by tooltip.  Can be accessed by passing their key to the animation property.\n */\nconst ANIMATIONS = {\n    slideIn: SlideInToolTip,\n    slideOut: SlideOutToolTip,\n    fadeIn: FadeIn,\n    fadeOut: FadeOut\n};\n\n\n/**\n * A map of placement configuration objects that can be referenced by their name.\n *\n * @type {{top: {collision: string, at: string, method: string, name: string, opposite: string, my: string}, left: {collision: string, at: string, method: string, name: string, opposite: string, my: string}, bottom: {collision: string, at: string, method: string, name: string, opposite: string, my: string}, right: {collision: string, at: string, method: string, name: string, opposite: string, my: string}}}\n */\nconst PLACEMENTS = {\n    top: {\n        my: \"bottom\",\n        at: \"top\",\n        collision: \"flip\",\n        name: \"top\",\n        opposite: \"bottom\",\n        method: \"top-left\"\n    },\n\n    right: {\n        my: 'left',\n        at: 'right',\n        collision: \"flip\",\n        name: \"right\",\n        opposite: \"left\",\n        method: \"top-left\"\n    },\n\n    bottom: {\n        my: \"top\",\n        at: \"bottom\",\n        collision: \"flip\",\n        name: \"bottom\",\n        opposite: \"top\",\n        method: \"top-left\"\n    },\n\n    left: {\n        my: \"right\",\n        at: \"left\",\n        collision: \"flip\",\n        name: \"left\",\n        opposite: \"right\",\n        method: \"top-left\"\n    }\n};\n\n\n/**\n * Creates a tooltip that either targets an object or the mouse cursor.\n */\nexport default class Tooltip extends Component {\n    #label;\n    #target;\n\n    #destroy;\n    #overlay;\n\n    constructor(text, placement, {timeout=null, showFX=null, showDuration=null, hideFX=null, hideDuration=null, classes=null, id=null, removeOnHide=true}={}) {\n        let element = document.createElement('div'),\n            body = document.createElement('div'),\n            label = document.createElement('div'),\n            arrow = document.createElement('div');\n\n        element.appendChild(body);\n        body.appendChild(label);\n        body.appendChild(arrow);\n        label.innerHTML = text;\n\n        element.className = \"tooltip\";\n        body.className = \"tooltip__body\";\n        label.className = \"tooltip__label\";\n        arrow.className = \"arrow\";\n\n        if(classes) {\n            addClasses(element, classes);\n        }\n\n        if(id !== null) {\n            element.id = id;\n        }\n\n        super(element);\n\n        if(typeof showFX === 'string') {\n            showFX = ANIMATIONS[showFX];\n        }\n\n        if(typeof hideFX === 'string') {\n            hideFX = ANIMATIONS[hideFX];\n        }\n\n        this.#overlay = new Overlay(this.element, {\n            removeOnHide,\n            showFX,\n            hideFX,\n            showDuration,\n            hideDuration,\n            timeout\n        });\n\n        if(typeof placement === 'string') {\n            placement = PLACEMENTS[placement];\n        }\n\n        if(placement) {\n            this.#overlay.setPlacement(placement.name, placement);\n        }\n\n        this.#overlay.hide(true);\n    }\n\n    /**\n     * Completely destroys the tooltip.  Cleaning up any registered events, timers and removing the tooltip from the dom.\n     */\n    async destroy() {\n        this.#overlay.clearTimeOut();\n\n        await this.#overlay.clearFX();\n\n        if(this.#destroy) {\n            this.#destroy();\n            this.#destroy = null;\n        }\n\n        if(this.element.parentElement) {\n            this.element.parentElement.removeChild(this.element);\n        }\n    }\n\n    /**\n     * Initializes the tooltip on the target.\n     *\n     * The tooltip can either be of type toggle or hover.  If toggle the tooltip will display/hide when the user clicks\n     * the target.  If hover the tooltip will display when the user hover over the target.\n     *\n     * If lockToMouse is true the tooltip's position will be locked to the mouses coordanents.\n     * @param target\n     * @param type\n     * @param lockToMouse\n     */\n    init(target, type, lockToMouse=false) {\n        // noinspection JSUnusedLocalSymbols\n        let positionTarget = event => target,\n            mouseX = 0,\n            mouseY = 0;\n\n        if(this.#destroy) {\n            this.#destroy();\n            this.#destroy = null;\n        }\n\n        if(typeof target === 'string') {\n            target = document.querySelector(target);\n        }\n\n        if(type === 'hover') {\n            let onMouseOver = (event) => {\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n\n                if((this.state === Overlay.hiding || this.state === Overlay.hidden) && !target.contains(event.relatedTarget)) {\n                    this.show(positionTarget);\n                }\n            };\n\n            let onMouseOut = (event) => {\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n\n                if(!target.contains(event.relatedTarget) && (this.state === Overlay.visible || this.state === Overlay.showing)) {\n                    this.hide();\n                }\n            };\n\n            let onMouseMove;\n\n            target.addEventListener('mouseover', onMouseOver);\n\n            target.addEventListener('mouseout', onMouseOut);\n\n            if(lockToMouse) {\n                onMouseMove = (event) => {\n                    mouseX = event.clientX;\n                    mouseY = event.clientY;\n\n                    if(this.state === Overlay.visible || this.state === Overlay.showing) {\n                        this.#overlay.position(\"current\");\n                    }\n                };\n\n                positionTarget = () => {\n                    return new Rect(\n                        mouseX,\n                        mouseY,\n                        mouseX,\n                        mouseY\n                    );\n                };\n            }\n\n            if(onMouseMove) {\n                target.addEventListener('mousemove', onMouseMove);\n            }\n\n            this.#destroy = () => {\n                if(onMouseMove) {\n                    this.element.removeEventListener('mousemove', onMouseMove);\n                }\n\n                target.removeEventListener('mouseout', onMouseOut);\n                target.removeEventListener('mouseover', onMouseOver);\n            };\n        } else if(type === 'toggle') {\n            let onMouseMove,\n                onClick,\n                onMouseMoveTarget,\n                isMouseMoveBound = false;\n\n            if(lockToMouse) {\n                positionTarget = () => {\n                    return new Rect(\n                        mouseX,\n                        mouseY,\n                        mouseX,\n                        mouseY\n                    );\n                };\n\n                onMouseMove = (event) => {\n                    mouseX = event.clientX;\n                    mouseY = event.clientY;\n\n                    if(this.state === Overlay.visible || this.state === Overlay.showing) {\n                        this.#overlay.position(\"current\");\n                    }\n                };\n\n                onMouseMoveTarget = document;\n            }\n\n            onClick = async (event) => {\n                mouseX = event.clientX;\n                mouseY = event.clientY;\n\n                if(this.state === Overlay.showing || this.state === Overlay.visible) {\n                    let result = await this.hide();\n\n                    if(onMouseMove && isMouseMoveBound && result === Animation.complete) {\n                        onMouseMoveTarget.removeEventListener('mousemove', onMouseMove);\n                        isMouseMoveBound = false;\n                    }\n                } else {\n                    this.show(positionTarget);\n\n                    if(onMouseMove && !isMouseMoveBound) {\n                        onMouseMoveTarget.addEventListener('mousemove', onMouseMove);\n                        isMouseMoveBound = true;\n                    }\n                }\n            };\n\n            target.addEventListener('click', onClick);\n\n            this.#destroy = () => {\n                if(isMouseMoveBound) {\n                    onMouseMoveTarget.removeEventListener('mousemove', onMouseMove);\n                    isMouseMoveBound = false;\n                }\n\n                target.removeEventListener('click', onClick);\n            };\n        }\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    /**\n     * The the tooltips text.\n     * @param text\n     */\n    setText(text) {\n        this.#label.innerHTML = text;\n    }\n\n    /**\n     * Function that sets the position of the tooltip using the provided placement.\n     * @param rect - The rectangle to position by.\n     * @param placement - Configuration objects that contains placement options.\n     * @param target - The element to position relative to.\n     * @param containerRect - The container rectangle.\n     * @returns {*}\n     */\n    position(rect, placement, target, containerRect) {\n        let pos,\n            targetRect,\n            collision,\n            element;\n\n        if(typeof target === 'function') {\n            targetRect = Rect.getBoundingClientRect(target());\n        } else {\n            targetRect = new Rect(target);\n        }\n\n        placement = PLACEMENTS[placement];\n        collision = placement.collision;\n\n        this.element.dataset.placement = placement.name;\n\n        if(rect === \"full\") {\n            rect = Rect.getCleanBoundingClientRect(this.element);\n        } else if(!rect || rect === \"current\") {\n            rect = new Rect(this.element);\n        }\n\n        element = this.element;\n\n        pos = rect.position({\n            my: placement.my,\n            at: placement.at,\n            of: targetRect\n        });\n\n        // Check if position is inside container.\n        if(!containerRect || containerRect.contains(pos)) {\n            setElementClientPosition(element, pos, placement.method);\n            return pos;\n        }\n\n        // Try flipping it.\n        if(collision === \"flip\" || collision === \"flipfit\") {\n            placement = PLACEMENTS[placement.opposite];\n\n            element.dataset.placement = placement.name;\n            rect = this.getBoundingClientRect();\n\n            pos = rect.position({\n                my: placement.my,\n                at: placement.at,\n                of: targetRect\n            });\n\n            if(containerRect.contains(pos)) {\n                setElementClientPosition(element, pos, placement.method);\n                return pos;\n            }\n        }\n\n        // Try fitting it.\n        if(collision === \"fit\" || collision === \"flipfit\") {\n            pos = pos.fit(containerRect);\n        }\n\n        setElementClientPosition(element, pos, placement.method);\n        return pos;\n    }\n\n    /**\n     * Shows the tooltip.\n     * @param target\n     * @param immediate\n     * @returns {Promise<string>}\n     */\n    async show(target, immediate=false) {\n        this.#overlay.target = target;\n        this.#overlay.container = Rect.getClientRect();\n\n        if(!this.element.parentElement) {\n            document.body.appendChild(this.element);\n        }\n\n        return this.#overlay.show(immediate);\n    }\n\n    /**\n     * Hides the tooltip.\n     * @param immediate\n     * @returns {Promise<string>}\n     */\n    async hide(immediate=false) {\n        return this.#overlay.hide(immediate);\n    }\n\n    /**\n     * @returns {String}\n     */\n    get state() {\n        return this.#overlay.state;\n    }\n\n    get isVisible() {\n        return this.state !== Overlay.hidden;\n    }\n\n    /**\n     * Creates a tooltip for the target. A target can only have one tooltip created by this method.\n     *\n     * @param target\n     * @param text\n     * @param type\n     * @param showFX\n     * @param showDuration\n     * @param hideFX\n     * @param hideDuration\n     * @param placement\n     * @param timeout\n     * @param classes\n     * @param id\n     * @param refreshPositionOnMouseMove\n     * @returns {Tooltip}\n     */\n    static tooltip(target, text, {type=\"hover\", showFX=null, showDuration=null, hideFX=null, hideDuration=null, placement=\"top\", timeout=null, classes=null, id=null, refreshPositionOnMouseMove=false}={}) {\n        if(typeof target === 'string') {\n            target = document.querySelector(target);\n        }\n\n        this.removeToolTip(target);\n\n        let tooltip = new Tooltip(text, placement || 'top', {\n            timeout,\n            showFX,\n            showDuration,\n            hideFX,\n            hideDuration\n        });\n\n        if(classes) {\n            tooltip.addClass(classes);\n        }\n\n        if(id) {\n            tooltip.id = id;\n        }\n\n        tooltip.init(target, type, refreshPositionOnMouseMove);\n\n        return tooltip;\n    }\n\n    // noinspection JSUnusedGlobalSymbols\n    /**\n     * Returns the bound tooltip for the target element create by calling the Tooltip.tooltip function.\n     * @param target\n     * @returns {*|null}\n     */\n    static getToolTip(target) {\n        if(typeof target === 'string') {\n            target = document.querySelector(target);\n        }\n\n        return target[tooltipSymbol] || null;\n    }\n\n    /**\n     * Removes any tooltip created by the Tooltip.tooltip function from the target.\n     * @param target\n     * @returns {null|any}\n     */\n    static removeToolTip(target) {\n        if(typeof target === 'string') {\n            target = document.querySelector(target);\n        }\n\n        let tooltip = target[tooltipSymbol];\n\n        if(tooltip) {\n            tooltip.destroy();\n            delete target[tooltipSymbol];\n            return tooltip;\n        }\n\n        return null;\n    }\n}\n","import Tooltip from \"../../src/core/ui/Tooltip\";\n\n\nexport default class ToolTipTestPage {\n    constructor() {\n\n    }\n\n    load() {\n        this.initDebug();\n\n        for(let node of document.querySelectorAll(\"[data-tooltip]\")) {\n            Tooltip.tooltip(node, node.dataset.tooltip, {\n                placement: node.dataset.placement,\n                showFX: \"slideIn\",\n                hideFX: \"slideOut\",\n                showDuration: 2000,\n                hideDuration: 200,\n                type: 'hover',\n                refreshPositionOnMouseMove: true\n            });\n        }\n    }\n\n    initDebug() {\n        let debug = document.querySelector('#debug_output');\n\n        document.addEventListener('mousemove', event => {\n            debug.innerHTML = `(${event.clientX}, ${event.clientY})`;\n        });\n    }\n}\n"],"sourceRoot":""}