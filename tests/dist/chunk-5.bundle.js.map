{"version":3,"sources":["webpack://pendora/./src/core/ui/Notification.js","webpack://pendora/./tests/src/test_notifications.js"],"names":["ANIMATIONS","slideInY","SlideInY","slideOutY","SlideOutY","slideInX","SlideInX","slideOutX","SlideOutX","fadeIn","FadeIn","fadeOut","FadeOut","PLACEMENTS","placement","node","document","createElement","className","body","appendChild","basicNotificationTemplate","context","element","inner","textContainer","iconContainer","classname","innerHTML","text","icon","addClasses","BASIC_NOTIFICATIONS","success","template","timeout","showFX","showDuration","hideFX","hideDuration","closeOnClick","danger","warning","info","Notification","id","Overlay","removeOnHide","hide","addEventListener","event","dismiss","target","closest","state","visible","showing","immediate","show","message","type","options","config","notification","parentElement","container","classList","contains","querySelector","appendTo","Component","NotificationTestPage","testButtons","button","innerText","toLowerCase","replace","notify"],"mappings":"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","file":"chunk-5.bundle.js","sourcesContent":["import Component from \"../Component\";\nimport Overlay from \"./Overlay\";\nimport {addClasses} from \"../utility\";\nimport {FadeIn, FadeOut, SlideInX, SlideOutX, SlideInY, SlideOutY} from \"../fx/effects\";\n\n\nconst ANIMATIONS = {\n    slideInY: SlideInY,\n    slideOutY: SlideOutY,\n    slideInX: SlideInX,\n    slideOutX: SlideOutX,\n    fadeIn: FadeIn,\n    fadeOut: FadeOut\n};\n\n\nconst PLACEMENTS = {};\nfor(let placement of ['top-left', 'top-right', 'left', 'right', 'bottom-left', 'bottom-right']) {\n    let node = document.createElement('div');\n    node.className = `notification-placement-${placement} notification-placement-body`;\n    PLACEMENTS[placement] = node;\n}\n\n\nfor(let placement of ['top', 'bottom']) {\n    let node = document.createElement('div'),\n        body = document.createElement('div');\n    node.className = `notification-placement-${placement}`;\n    body.className = 'notification-placement-body';\n    node.appendChild(body);\n    PLACEMENTS[placement] = node;\n}\n\n\nfunction basicNotificationTemplate(context) {\n    let element = document.createElement('div'),\n        inner = document.createElement('div'),\n        textContainer = document.createElement('div'),\n        iconContainer = document.createElement('div');\n\n    element.appendChild(inner);\n    element.className = \"notification\";\n    inner.className = \"notification__inner\";\n    textContainer.classname = \"notification__text\";\n    iconContainer.className = \"notification__icon\";\n    textContainer.innerHTML = context.text || \"\";\n\n    if(context.text) {\n        textContainer.innerHTML = context.text;\n    }\n\n    if(context.icon) {\n        iconContainer.innerHTML = context.icon;\n    }\n\n    inner.appendChild(iconContainer);\n    inner.appendChild(textContainer);\n\n    if(context.className) {\n        addClasses(element, context.className);\n    }\n\n    return element;\n}\n\n\nconst BASIC_NOTIFICATIONS = {\n    success: {\n        className: \"success\",\n        template: basicNotificationTemplate,\n        timeout: 5000,\n        showFX: 'slideInY',\n        showDuration: 400,\n        hideFX: \"slideOutY\",\n        hideDuration: 200,\n        closeOnClick: true,\n        icon: `<i class=\"fas fa-check-square\"></i>`\n    },\n\n    danger: {\n        className: \"error\",\n        template: basicNotificationTemplate,\n        timeout: 5000,\n        showFX: 'slideInY',\n        showDuration: 400,\n        hideFX: \"slideOutY\",\n        hideDuration: 200,\n        closeOnClick: true,\n        icon: `<i class=\"fas fa-exclamation\"></i>`\n    },\n\n    warning: {\n        className: \"warning\",\n        template: basicNotificationTemplate,\n        timeout: 5000,\n        showFX: 'slideInY',\n        showDuration: 400,\n        hideFX: \"slideOutY\",\n        hideDuration: 200,\n        closeOnClick: true,\n        icon: `<i class=\"fas fa-exclamation-triangle\"></i>`\n    },\n\n    info: {\n        className: \"info\",\n        template: basicNotificationTemplate,\n        timeout: 5000,\n        showFX: 'slideInY',\n        showDuration: 400,\n        hideFX: \"slideOutY\",\n        hideDuration: 200,\n        closeOnClick: true,\n        icon: `<i class=\"fas fa-info\"></i>`\n    }\n};\n\n\nexport default class Notification extends Component {\n    #overlay;\n\n    constructor(element, {closeOnClick=false, timeout=5000, showFX='slideInY', showDuration=200, hideFX='slideOutY', hideDuration=200, className=null, id=null}={}) {\n        super(element);\n\n        if(typeof showFX === 'string') {\n            showFX = ANIMATIONS[showFX];\n        }\n\n        if(typeof hideFX === 'string') {\n            hideFX = ANIMATIONS[hideFX];\n        }\n\n        if(className) {\n            addClasses(this.element, className);\n        }\n\n        if(id) {\n            this.element.id = id;\n        }\n\n        this.#overlay = new Overlay(this.element, {\n            showFX,\n            showDuration,\n            hideFX,\n            hideDuration,\n            removeOnHide: true,\n            timeout\n        });\n\n        this.closeOnClick = closeOnClick;\n        this.hide(true);\n\n        this.element.addEventListener('click', event => {\n            let dismiss = event.target.closest(\"[data-dismiss]\");\n\n            if(dismiss || this.closeOnClick) {\n                if(this.state === Overlay.visible ||  this.state === Overlay.showing) {\n                    this.hide();\n                }\n            }\n        });\n    }\n\n    async show(immediate) {\n        return this.#overlay.show(immediate);\n    }\n\n    async hide(immediate) {\n        return this.#overlay.hide(immediate);\n    }\n\n    get state() {\n        return this.#overlay.state;\n    }\n\n    static notify(message, type, options) {\n        let config = {placement: \"top-left\", ...BASIC_NOTIFICATIONS.success};\n\n        if(typeof type === 'string') {\n            config = {...config, ...BASIC_NOTIFICATIONS[type]};\n        } else if(typeof type === 'object') {\n            config = {...config, ...type};\n        }\n\n        if(typeof options === 'object') {\n            config = {...config, ...options};\n        }\n\n        config.text = message;\n\n        let element = config.template(config);\n\n        let notification = new this(element, config);\n\n        let placement = config.placement;\n\n        if(typeof placement === 'string') {\n            placement = PLACEMENTS[placement];\n\n            if(placement && !placement.parentElement) {\n                document.body.appendChild(placement);\n            }\n        }\n\n        if(placement) {\n            let container;\n\n            if(placement.classList.contains('notification-placement-body')) {\n                container = placement;\n            } else {\n                container = document.querySelector('.notification-placement-body');\n            }\n\n            if(!container) container = placement;\n\n            notification.appendTo(container);\n        }\n\n        notification.show();\n\n        return placement;\n    }\n}\n","import Notification from \"../../src/core/ui/Notification\";\n\n\nexport default class NotificationTestPage {\n    constructor() {\n\n    }\n\n    load() {\n        // let notification = new BasicNotificationMessage(\"Hello World!\");\n        // notification.appendTo(document.body);\n        // notification.id = \"test-notification-1\";\n\n        let testButtons = document.querySelector('#test-buttons');\n\n        testButtons.addEventListener('click', event => {\n            let button = event.target.closest('button');\n\n            if(!button) return;\n\n            let text = button.innerText,\n                placement = text.toLowerCase().replace(\" \", \"-\");\n\n            Notification.notify(\"Hello World This is A long Message!\", \"success\", {placement, closeOnClick: true});\n        });\n    }\n}\n\n\n"],"sourceRoot":""}