{"version":3,"sources":["webpack://pendora/webpack/universalModuleDefinition","webpack://pendora/webpack/bootstrap","webpack://pendora/./src/autoloader.js","webpack://pendora/./src/core/data.js","webpack://pendora/./src/core/errors.js","webpack://pendora/./src/core/utility.js","webpack://pendora/./src/index.js","webpack://pendora/./src/ui/modal.js"],"names":["AutoLoader","registry","name","func","hasOwnProperty","Error","context","document","querySelector","widgets","querySelectorAll","element","components","dataset","init","split","windowBind","c","parts","cls","namespace","length","key","initialized","privateCache","get","set","window","fn","loader","register","load","Toggle","_onClick","event","onClick","addEventListener","removeEventListener","target","toggle","method","startsWith","substr","classList","instance","getInitializedInstance","autoLoad","uuid","prefix","Math","random","replace","Data","expando","owner","cache","acceptData","nodeType","Object","defineProperty","value","configurable","prop","undefined","arguments","keys","isEmptyObject","ExtendableError","message","constructor","captureStackTrace","stack","IndexError","KeyError","ValueError","NotImplemented","ValidationError","node","children","AssertionError","REG_WHITESPACE","clamp","minValue","maxValue","max","min","modulo","mod","proto","descriptor","placement","randomChoice","array","floor","arraysEqual","array1","array2","i","l","parseHTML","html","template","createElement","innerHTML","trim","content","fragment","createDocumentFragment","firstChild","appendChild","createFragment","object","emptyElement","removeChild","addClasses","classes","add","removeClasses","remove","assignAttributes","attributes","setAttribute","setElementOffset","coords","getElementOffset","Array","isArray","left","top","offset","getBoundingClientRect","style","getComputedStyle","parseInt","box","pageXOffset","pageYOffset","getScroll","isWindow","scrollLeft","scrollTop","variable","setInterval","setScroll","scroll","scrollTo","selectElement","selector","jquery","assert","condition","parseBooleanOrInt","radix","defaultValue","TypeError","type","Number","isNaN","parseBooleanOrFloat","parseFloat","parseBoolean","parseIntValue","parseFloatValue","parseAny","parsers","parser","e","validateChoice","choices","indexOf","choice","args","findChild","child","matches","filterChildren","r","push","getOwnProperty","obj","propName","getPropertyByPath","path","part","Modal","hideOnClick","hideClassName","call","modal","isOpen","close","dismiss","closest","targetModal","append","CustomEvent","bubbles","detail","dispatchEvent","open","contains","buildComponent"],"mappings":"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","file":"pendora.bundle.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"pendora\"] = factory();\n\telse\n\t\troot[\"pendora\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/dist/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","import {privateCache} from \"./core/data\";\r\n\r\n\r\nexport default class AutoLoader {\r\n    static autoLoad = true;\r\n\r\n    constructor() {\r\n        this.registry = {};\r\n    }\r\n\r\n    register(name, func) {\r\n        if(this.registry.hasOwnProperty(name) && this.registry[name]) {\r\n            throw new Error(\"Duplicate component registered\");\r\n        }\r\n\r\n        this.registry[name] = func;\r\n    }\r\n\r\n    load(context) {\r\n        if(!context) {\r\n            context = document;\r\n        } else if(typeof context === 'string') {\r\n            context = document.querySelector(context);\r\n        }\r\n\r\n        let widgets = context.querySelectorAll('[data-init]');\r\n\r\n        for(let element of widgets) {\r\n            let components = element.dataset.init.split(/\\s+/),\r\n                windowBind = element.dataset.windowBind;\r\n\r\n            for(let c of components) {\r\n                let parts = c.split(':'),\r\n                    cls = this.registry[parts[0]],\r\n                    namespace = parts.length > 1 ? parts[1] : '',\r\n                    key = namespace ? `${parts[0]}.${parts[1]}` : parts[0];\r\n\r\n                if(cls) {\r\n                    let initialized = privateCache.get(element, 'initialized');\r\n\r\n                    if(!initialized) {\r\n                        initialized = {};\r\n                        privateCache.set(element, 'initialized', initialized);\r\n                    }\r\n\r\n                    if(!initialized[key]) {\r\n                        initialized[key] = cls(element);\r\n\r\n                        if(windowBind) {\r\n                            window[windowBind] = initialized[key];\r\n                        }\r\n                    } // else component is already loaded do nothing.  Could be encountered if load is called multiple times.\r\n                } else {\r\n                    throw new Error(`No component registered called ${key}`);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     *  Registers a loader function will the global autoloader instance.\r\n     *\r\n     * @param name {String}\r\n     * @param fn {function(HTMLElement) : Object}\r\n     */\r\n    static register(name, fn) {\r\n        return this.loader.register(name, fn);\r\n    }\r\n\r\n    static load(context) {\r\n        return this.loader.load(context);\r\n    }\r\n\r\n    static getInitializedInstance(element, name) {\r\n        let initialized = privateCache.get(element, 'initialized');\r\n\r\n        if(initialized) {\r\n            return initialized[name] || null;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * A UI class that adds the toggle behavior to an element.\r\n * The Toggle behavior is added using the autoloader using `data-init=\"toggle\"` attribute.\r\n * It will target another element and attempt to call the toggle method of an initialized component.\r\n *\r\n * The toggle class takes two configuration attributes, data-target and data-toggle.\r\n *\r\n * data-target determines what element is targeted.  It takes a css selector that will be passed to document.querySelector().\r\n *\r\n * data-toggle determines the initialized component to toggle.  It takes the name of the component registered with AutoLoader.\r\n * For instance if you are toggling on a modal you should pass modal here.\r\n *\r\n * If the component does not offer a toggle method and another method needs to be called, you can set the optional\r\n * attribute data-method.  This attribute determines what method is called and defaults to the string toggle.\r\n *\r\n * Example Usage:\r\n *\r\n * <button type=\"button\" data-init=\"toggle\" data-target=\"#myModalId\" data-toggle=\"modal\">Show Modal</button>\r\n *\r\n * ---\r\n *\r\n * # Toggle classes on and off\r\n *\r\n * If you want to toggle a class on the target element on or off the toggle needs to be a css class string.  For\r\n * example to toggle the class \"test\" with a button you can use the following code:\r\n *\r\n * <button type=\"button\" data-init=\"toggle\" data-target=\"#mytarget\" data-toggle=\".test\">Toggle Class</button>\r\n *\r\n * ---\r\n * # Target self\r\n *\r\n * If you an element to target itself, specify the string \"self\" as the target.\r\n *\r\n * <button type=\"button\" data-init=\"toggle\" data-target=\"self\" data-toggle=\".test\">Toggle Class</button>\r\n */\r\nexport class Toggle {\r\n    constructor(element) {\r\n        if(typeof element === 'string') {\r\n            this.element = document.querySelector(element);\r\n        } else {\r\n            this.element = element;\r\n        }\r\n\r\n        this._onClick = (event) => {\r\n            this.onClick(event);\r\n        };\r\n\r\n        this.element.addEventListener('click', this._onClick);\r\n    }\r\n\r\n    destroy() {\r\n        this.element.removeEventListener('click', this._onClick);\r\n        this._onClick = null;\r\n    }\r\n\r\n    onClick() {\r\n        let target = this.element.dataset.target,\r\n            toggle = this.element.dataset.toggle,\r\n            method = this.element.dataset.method || 'toggle';\r\n\r\n        if(target === 'self') {\r\n            target = this.element;\r\n        } else {\r\n            target = document.querySelector(target);\r\n        }\r\n\r\n        if(toggle.startsWith('.')) {\r\n            toggle = toggle.substr(1);\r\n            target.classList.toggle(toggle);\r\n        } else {\r\n            let instance = AutoLoader.getInitializedInstance(target, toggle);\r\n\r\n            if(instance) {\r\n                instance[method](this.element);\r\n            } else {\r\n                throw new Error(\"Could not find initialized instance during toggle action.\");\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\nAutoLoader.loader = new AutoLoader();\r\nAutoLoader.register('toggle', (element) => new Toggle(element));\r\n\r\n\r\nwindow.addEventListener('load', () => {\r\n    if(AutoLoader.autoLoad) {\r\n        AutoLoader.load();\r\n    }\r\n});\r\n","import {isEmptyObject} from \"./utility\";\r\n\r\n\r\nlet uuid = 1,\r\n    prefix = 'p-' + (''+Math.random()).replace(/\\D/g, '');\r\n\r\n\r\nexport class Data {\r\n    constructor() {\r\n        this.expando = `${prefix}-${uuid++}`;\r\n    }\r\n\r\n    static acceptData(owner) {\r\n        return owner.nodeType === 1 || owner.nodeType === 9 || !(+owner.nodeType);\r\n    }\r\n\r\n    cache(owner) {\r\n        let cache = owner[this.expando];\r\n\r\n        if(!cache) {\r\n            cache = {};\r\n\r\n            if(Data.acceptData(owner)) {\r\n                if(owner.nodeType) {\r\n                    owner[this.expando] = cache;\r\n                } else {\r\n                    Object.defineProperty(owner, this.expando, {\r\n                        value: cache,\r\n                        configurable: true\r\n                    });\r\n                }\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        return cache;\r\n    }\r\n\r\n    set(owner, key, value) {\r\n        let cache = this.cache(owner);\r\n\r\n        if(typeof key === 'object') {\r\n            for(let prop in key) {\r\n                cache[prop] = key[prop];\r\n            }\r\n        } else {\r\n            cache[key] = value;\r\n        }\r\n\r\n        return cache;\r\n    }\r\n\r\n    get(owner, key) {\r\n        if(key === undefined) {\r\n            return this.cache(owner);\r\n        } else {\r\n            let cache = owner[this.expando];\r\n\r\n            if(cache) {\r\n                return cache[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    access(owner, key, value) {\r\n        if(arguments.length === 2) {\r\n            if(typeof key === 'object') {\r\n                return this.set(owner, key);\r\n            } else {\r\n                return this.get(owner, key);\r\n            }\r\n        } else if(arguments.length === 1) {\r\n            return this.cache(owner);\r\n        } else if(arguments.length === 3) {\r\n            return this.set(owner, key, value);\r\n        }\r\n    }\r\n\r\n    remove(owner, ...keys) {\r\n        let cache = owner[this.expando];\r\n\r\n        if(!cache) return;\r\n\r\n        if(arguments.length === 1) {\r\n            if(owner.nodeType) {\r\n                owner[this.expando] = undefined;\r\n            } else {\r\n                delete owner[this.expando];\r\n            }\r\n        } else {\r\n            for(let key of keys) {\r\n                delete cache[key];\r\n            }\r\n        }\r\n    }\r\n\r\n    hasData(owner) {\r\n        let cache = owner[this.expando];\r\n        return cache && !isEmptyObject(cache);\r\n    }\r\n}\r\n\r\n\r\nexport let privateCache = new Data();","\r\nexport class ExtendableError extends Error {\r\n    constructor(message) {\r\n        // noinspection JSCheckFunctionSignatures\r\n        super(message);\r\n        this.name = this.constructor.name;\r\n\r\n        // noinspection JSUnresolvedVariable\r\n        if(typeof Error.captureStackTrace === 'function') {\r\n            // noinspection JSUnresolvedFunction\r\n            Error.captureStackTrace(this, this.constructor);\r\n        } else {\r\n            this.stack = (new Error(message)).stack;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport class IndexError extends ExtendableError {\r\n\r\n}\r\n\r\n\r\nexport class KeyError extends ExtendableError {\r\n\r\n}\r\n\r\n\r\nexport class ValueError extends ExtendableError {\r\n\r\n}\r\n\r\n\r\nexport class NotImplemented extends ExtendableError {\r\n\r\n}\r\n\r\n\r\nexport class ValidationError extends ExtendableError {\r\n    constructor(message, node) {\r\n        super(message);\r\n        this.node = node;\r\n        this.children = [];\r\n    }\r\n}\r\n\r\n\r\nexport class AssertionError extends ExtendableError {\r\n    constructor(message) {\r\n        super(message);\r\n    }\r\n}\r\n","import {AssertionError} from './errors';\r\nconst REG_WHITESPACE = /\\s+/;\r\n\r\n\r\n/**\r\n * Clamps a value between a minimum and maximum values.\r\n * @param value\r\n * @param minValue\r\n * @param maxValue\r\n * @returns {*}\r\n */\r\nexport function clamp(value, minValue=null, maxValue=null) {\r\n    if(minValue !== null) {\r\n        value = Math.max(value, minValue);\r\n    }\r\n\r\n    if(maxValue !== null) {\r\n        value = Math.min(value, maxValue);\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nexport function modulo(value, mod) {\r\n    return ((value % mod) + mod) % mod;\r\n}\r\n\r\n\r\nexport function proto(descriptor) {\r\n    descriptor.placement = \"prototype\";\r\n    return descriptor;\r\n}\r\n\r\n\r\n/**\r\n * Returns a random value from an array.\r\n * @param array\r\n * @returns {*}\r\n */\r\nexport function randomChoice(array) {\r\n    return array[Math.floor(Math.random()*array.length)];\r\n}\r\n\r\n\r\n/**\r\n * Checks to see if 2 arrays are \"equal\".\r\n * @param array1\r\n * @param array2\r\n */\r\nexport function arraysEqual(array1, array2) {\r\n    if(array1 === array2) return true; // The same object.\r\n    if(array1 == null || array2 == null) return false;\r\n    if(array1.length !== array2.length) return false;\r\n\r\n    for(let i = 0, l = array1.length; i < l; i++) {\r\n        if(array1[i] !== array2[i]) return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * Parses an html string into a document fragment.\r\n *\r\n * @deprecated\r\n * @param html\r\n * @return {DocumentFragment}\r\n */\r\nexport function parseHTML(html) {\r\n    let template = document.createElement('template');\r\n    template.innerHTML = html.trim();\r\n\r\n    if(template.content) {\r\n        return template.content;\r\n    } else {\r\n        // Doesn't support template tag.\r\n        let fragment = document.createDocumentFragment();\r\n        while(template.firstChild) fragment.appendChild(template.firstChild);\r\n        return fragment;\r\n    }\r\n}\r\n\r\n\r\nexport function createFragment(html) {\r\n    // noinspection JSDeprecatedSymbols\r\n    return parseHTML(html);\r\n}\r\n\r\n\r\n/**\r\n * Tests to see if the object is empty.\r\n *\r\n * @param object\r\n * @return {boolean}\r\n */\r\nexport function isEmptyObject(object) {\r\n    // noinspection LoopStatementThatDoesntLoopJS\r\n    for(let key in object) {\r\n        return false;\r\n    }\r\n\r\n    return true;\r\n}\r\n\r\n\r\n/**\r\n * Empties a dom element.\r\n *\r\n * @param element\r\n */\r\nexport function emptyElement(element) {\r\n    while(element.firstChild) element.removeChild(element.firstChild);\r\n}\r\n\r\n\r\n/**\r\n * Adds classes to an element.  Can take a space separated list of classes.\r\n *\r\n * @param element\r\n * @param classes\r\n */\r\nexport function addClasses(element, classes) {\r\n    if(typeof classes === 'string') {\r\n        classes = classes.split(REG_WHITESPACE);\r\n    }\r\n\r\n    element.classList.add(...classes);\r\n}\r\n\r\n\r\n/**\r\n * Removes classes to an element.  Can take a space separated list of classes.\r\n *\r\n * @param element\r\n * @param classes\r\n */\r\nexport function removeClasses(element, classes) {\r\n    if(typeof classes === 'string') {\r\n        classes = classes.split(REG_WHITESPACE);\r\n    }\r\n\r\n    element.classList.remove(...classes);\r\n}\r\n\r\n\r\n/**\r\n * Assigns attributes in an object to an element.\r\n * @param element\r\n * @param attributes\r\n */\r\nexport function assignAttributes(element, attributes) {\r\n    for(let key in attributes) {\r\n        if(attributes.hasOwnProperty(key)) {\r\n            element.setAttribute(key, attributes[key]);\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Sets an elements position relative to the document.\r\n *\r\n * @param element\r\n * @param coords\r\n */\r\nexport function setElementOffset(element, coords) {\r\n    if(coords.nodeType) {\r\n        coords = getElementOffset(element);\r\n    } else if(Array.isArray(coords)) {\r\n        coords = {\r\n            left: coords.left,\r\n            top: coords.top\r\n        };\r\n    }\r\n\r\n    let offset = element.getBoundingClientRect();\r\n\r\n    let style = getComputedStyle(element),\r\n        left = parseInt(style.left, 10) || 0,\r\n        top = parseInt(style.top, 10) || 0;\r\n\r\n    element.style.left = (left + (coords.left - offset.left)) + 'px';\r\n    element.style.top = (top + (coords.top - offset.top)) + 'px';\r\n}\r\n\r\n\r\n/**\r\n * Returns the top and left position of an element relative to the document.\r\n *\r\n * @param element\r\n * @return {{top: number, left: number}}\r\n */\r\nexport function getElementOffset(element) {\r\n    let box = element.getBoundingClientRect();\r\n\r\n    return {\r\n        left: box.left + window.pageXOffset,\r\n        top: box.top + window.pageYOffset\r\n    };\r\n}\r\n\r\n\r\n/**\r\n * Normalizing accessing scroll position for an element.\r\n *\r\n * Windows and elements have different ways of accessing their scroll left and scroll top values on IE.\r\n * This function normalizes this behavior so getScroll(variable).scrollLeft always works.\r\n * @param element\r\n * @returns {{left, top}}\r\n */\r\nexport function getScroll(element) {\r\n    if(isWindow(element)) {\r\n        return {\r\n            scrollLeft: element.pageXOffset,\r\n            scrollTop: element.pageYOffset\r\n        };\r\n    } else {\r\n        return {\r\n            scrollLeft: element.scrollLeft,\r\n            scrollTop: element.scrollTop\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Test to see if the variable is a window.\r\n * @param variable\r\n * @returns {boolean}\r\n */\r\nexport function isWindow(variable) {\r\n    return variable && typeof variable === 'object' && setInterval in variable;\r\n}\r\n\r\n\r\n/**\r\n * Normalizes setting a scroll position for an element.\r\n * Windows on ie and elements with overflow scroll have different ways of setting the scroll position.\r\n * This methods normalizes them.\r\n * @param element - The element to scroll\r\n * @param scroll - An object with a left or a top property or both.\r\n */\r\nexport function setScroll(element, scroll) {\r\n    if(element.scrollTo) {\r\n        element.scrollTo(scroll);\r\n    } else {\r\n        element.scrollLeft = scroll.left;\r\n        element.scrollTop = scroll.top;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Matches a single dom element based on the given selector.\r\n * Can take a css selector string, a jquery object, a dom element, a document element or a document fragment.\r\n * If a css selector is passed it will query for the element.\r\n * If a jquery object is passed it will return the first matched element.\r\n * If an element is passed it will return that element.\r\n *\r\n * If a context is provided and the selector was a css selector, the selectors scope will be limited to that element.\r\n * Otherwise the context will be the document.\r\n *\r\n * @param selector\r\n * @param context\r\n * @returns {Element|Document|DocumentFragment}\r\n */\r\nexport function selectElement(selector, context=null) {\r\n    if(!context) {\r\n        context = document;\r\n    } else {\r\n        context = selectElement(context);\r\n    }\r\n\r\n    if(typeof selector === 'string') {\r\n        return context.querySelector(selector);\r\n    } else if(selector.jquery) {\r\n        return selector[0];\r\n    } else if(selector.nodeType === 1 || selector.nodeType === 9 || selector.nodeType === 11) {\r\n        return selector;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Asserts that a condition is true or raises an AssertionError.\r\n * @param condition - condition to check.\r\n * @param message - message on fail.\r\n * @throws AssertionError\r\n */\r\nexport function assert(condition, message) {\r\n    if(!condition) {\r\n        throw new AssertionError(message);\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Attempts to parse the value into a boolean value or a integer.  Returns the default value on failure if provided.\r\n * Otherwise throws a TypeError.\r\n * @param value\r\n * @param radix\r\n * @param defaultValue\r\n * @returns {boolean|number|*}\r\n */\r\nexport function parseBooleanOrInt(value, radix=10, defaultValue=TypeError) {\r\n    let type = typeof value;\r\n\r\n    if(type === 'boolean' || type === 'number') {\r\n        return value;\r\n    }\r\n\r\n    if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    }\r\n\r\n    value = parseInt(value, radix);\r\n\r\n    if(Number.isNaN(value)) {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Could not parse value into boolean or int.\");\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/**\r\n * Attempts to parse the value into a boolean value or a float.  Returns the default value on failure if provided.\r\n * Otherwise throws a TypeError.\r\n * @param value\r\n * @param defaultValue\r\n * @returns {boolean|number|*}\r\n */\r\nexport function parseBooleanOrFloat(value, defaultValue=TypeError) {\r\n    let type = typeof value;\r\n\r\n    if(type === 'boolean' || type === 'number') {\r\n        return value;\r\n    }\r\n\r\n    if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    }\r\n\r\n    value = parseFloat(value);\r\n\r\n    if(Number.isNaN(value)) {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Could not parse value into boolean or int.\");\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/**\r\n * Attempts for parse a boolean value from a string.  Returns the defaultValue on failure if provided.  Otherwise throws\r\n * a TypeError.\r\n * @param value\r\n * @param defaultValue\r\n * @returns {boolean|*}\r\n */\r\nexport function parseBoolean(value, defaultValue=TypeError) {\r\n    if(typeof value === 'boolean') {\r\n        return value;\r\n    } else if(value === 'true') {\r\n        return true;\r\n    } else if(value === 'false') {\r\n        return false;\r\n    } else {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Could not parse value into boolean.\");\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Attempts to parse a string into an integer.  Returns the default value on failure if set.  Otherwise throws a\r\n * TypeError.\r\n * @param value\r\n * @param radix\r\n * @param defaultValue\r\n * @returns {number}\r\n */\r\nexport function parseIntValue(value, radix=10, defaultValue=TypeError) {\r\n    value = parseInt(value, radix);\r\n\r\n    if(Number.isNaN(value)) {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Could not parse value into integer.\");\r\n        } else {\r\n            // noinspection JSValidateTypes\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/**\r\n * Attempts to parse a string into an integer.  Returns the default value on failure if set.  Otherwise throws a\r\n * TypeError.\r\n * @param value\r\n * @param defaultValue\r\n * @returns {number}\r\n */\r\nexport function parseFloatValue(value, defaultValue=TypeError) {\r\n    value = parseFloat(value);\r\n\r\n    if(Number.isNaN(value)) {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Could not parse value into float.\");\r\n        } else {\r\n            // noinspection JSValidateTypes\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/**\r\n * Runs multiple parsers and returns the first one that doesn't throw a TypeError.\r\n * @param value\r\n * @param parsers\r\n * @returns {*}\r\n */\r\nexport function parseAny(value, ...parsers) {\r\n    for(let parser of parsers) {\r\n        try {\r\n            return parser(value);\r\n        } catch(e) {\r\n            if(!(e instanceof TypeError)) {\r\n                throw e;\r\n            }\r\n        }\r\n    }\r\n\r\n    throw new TypeError(\"Could not parse value.\");\r\n}\r\n\r\n\r\n/**\r\n * Validates that the value is one of the given choices.\r\n * @param value\r\n * @param choices\r\n * @param defaultValue\r\n * @returns {TypeErrorConstructor|*}\r\n */\r\nexport function validateChoice(value, choices, defaultValue=TypeError) {\r\n    if(choices.indexOf(value) === -1) {\r\n        if(defaultValue === TypeError) {\r\n            throw new TypeError(\"Invalid choice.\");\r\n        } else {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nexport function choice(...args) {\r\n    return function(value) {\r\n        if(args.indexOf(value) === -1) {\r\n            throw new TypeError(\"Invalid Choice\");\r\n        }\r\n\r\n        return value;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Returns first child element that matches the test function.\r\n * @param element - Parent element\r\n * @param fn {Function|String} - Test Function\r\n * @returns {HTMLElement|Element|null}\r\n */\r\nexport function findChild(element, fn) {\r\n    if(typeof fn === 'string') {\r\n        let selector = fn;\r\n        fn = (child) => child.matches(selector);\r\n    }\r\n\r\n    for(let i = 0, l = element.children.length; i < l; i++) {\r\n        let child = element.children[i];\r\n\r\n        if(fn(child)) {\r\n            return child;\r\n        }\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n\r\n/**\r\n * Creates a filtered list of element from the children that match the test function.\r\n * @param element - Parent element.\r\n * @param fn - Test function.\r\n * @returns {Array}\r\n */\r\nexport function filterChildren(element, fn) {\r\n    let r = [];\r\n\r\n    for(let i = 0, l = element.children.length; i < l; i++) {\r\n        let child = element.children[i];\r\n\r\n        if(fn(child)) {\r\n            r.push(child);\r\n        }\r\n    }\r\n\r\n    return r;\r\n}\r\n\r\n\r\n/**\r\n * Returns the object own property or the default value if it does not have that property.\r\n * @param obj\r\n * @param propName\r\n * @param defaultValue\r\n * @returns {*}\r\n */\r\nexport function getOwnProperty(obj, propName, defaultValue=undefined) {\r\n    if(obj.hasOwnProperty(propName)) {\r\n        return obj[propName];\r\n    } else {\r\n        return defaultValue;\r\n    }\r\n}\r\n\r\n\r\n/**\r\n * Returns the obj value by following it's property path.  For example getPropertyByPath(a, 'b.c.d') is equivalent to\r\n * a.b.c.d but can be passed in string form.\r\n * @param obj\r\n * @param path\r\n * @returns {*}\r\n */\r\nexport function getPropertyByPath(obj, path) {\r\n    let parts = path.split('.'),\r\n        r = obj;\r\n\r\n    for(let part of parts) {\r\n        r = r[part];\r\n    }\r\n\r\n    return r;\r\n}\r\n","import * as ui from './ui';\r\n\r\nexport {ui};\r\n","import {privateCache} from 'core/data';\r\nimport AutoLoader from 'autoloader';\r\n\r\n\r\n/**\r\n * <h1>Modal Component</h1>\r\n *\r\n * A Component for a modal area that can contain a dialog window, alert, notification, lightbox or any other custom content.\r\n *\r\n * ## Auto Hide\r\n * By default the modal will close when the user clicks it's background area directly.  This is controlled by the\r\n * hideOnClick property which defaults to true.  You can disable this behavior by setting closeOnClick to false.  If the\r\n * user clicks a child element of modal then the modal will not be closed.\r\n *\r\n * ## Closing Windows\r\n * You can mark an element to dismiss the modal on click by setting the attribute data-action to dismiss.  If these\r\n * elements are clicked the modal will checked if it's the closest related modal in the dom tree and if it is it will\r\n * dismiss itself.\r\n *\r\n * ---\r\n *\r\n * ## Auto Loading\r\n * If you are using the AutoLoader module you can assign the modal behavior to an element by setting the data-init\r\n * attribute to \"modal\".\r\n *\r\n * ---\r\n *\r\n * ## Events\r\n *\r\n * | Event Name  | Event Description               |\r\n * | ----------- | ------------------------------- |\r\n * | modal.open  | Triggered when the modal opens  |\r\n * | modal.close | Triggered when the modal closes |\r\n *\r\n * @class\r\n */\r\nexport default class Modal {\r\n    /**\r\n     * Constructor for Modal class.\r\n     *\r\n     * @param element {HTMLElement|String|Function} - Element to initialize component on.  If null a new element will be created.\r\n     * @param hideOnClick {Boolean} - If true the modal will close when directly clicked.\r\n     * @param hideClassName - The class that gets toggled during show / hide.\r\n     */\r\n    constructor({element=null, hideOnClick=true, hideClassName=\"hidden\"}={}) {\r\n        if(typeof element === 'string') {\r\n            this.element = document.querySelector(element);\r\n        } else if(typeof element === 'function') {\r\n            this.element = element.call(this);\r\n        } else {\r\n            this.element = element;\r\n        }\r\n\r\n        let cache = privateCache.cache(this.element);\r\n\r\n        if(cache.modal) {\r\n            throw new Error(\"Element is already initialized as Modal.\");\r\n        }\r\n\r\n        cache.modal = this;\r\n\r\n        if(!this.element) {\r\n            this.element = document.createElement('div');\r\n            this.element.classList.add('c-modal');\r\n            this.element.classList.add(hideClassName);\r\n        }\r\n\r\n        this.hideOnClick = hideOnClick;\r\n        this.hideClassName = hideClassName;\r\n\r\n        this._onClick = (event) => {\r\n            if(this.isOpen) {\r\n                if(event.target === this.element && this.hideOnClick) {\r\n                    this.close();\r\n                }\r\n\r\n                // Hide the modal if the dismiss action is clicked\r\n                // Make sure to check that the action doesn't come from a child modal and\r\n                // that for whatever reason the dismiss action isn't a ancestor.\r\n                let dismiss = event.target.closest('[data-action=\"dismiss\"]'),\r\n                    targetModal = dismiss ? dismiss.closest('.c-modal') : null;\r\n\r\n                if(dismiss && targetModal && targetModal === this.element) {\r\n                    this.close();\r\n                }\r\n            }\r\n        };\r\n\r\n        this.element.addEventListener('click', this._onClick);\r\n    }\r\n\r\n    /**\r\n     * Appends the component to the provided element.  If a string is passed it is used as a css selector.\r\n     * @param element {HTMLElement|String|{append}}\r\n     */\r\n    appendTo(element) {\r\n        if(typeof element === 'string') {\r\n            document.querySelector(element).appendChild(this.element);\r\n        } else if(element.appendChild) {\r\n            element.appendChild(this.element);\r\n        } else if(element.append) {\r\n            element.append(this.element);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Opens the modal.\r\n     */\r\n    open() {\r\n        if(!this.isOpen) {\r\n            this.element.classList.remove(this.hideClassName);\r\n\r\n            let event = new CustomEvent('modal.open', {\r\n                bubbles: true,\r\n                detail: this\r\n            });\r\n\r\n            this.element.dispatchEvent(event);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Closes the modal.\r\n     */\r\n    close() {\r\n        if(this.isOpen) {\r\n            this.element.classList.add(this.hideClassName);\r\n\r\n            let event = new CustomEvent('modal.close', {\r\n                bubbles: true,\r\n                detail: this\r\n            });\r\n\r\n            this.element.dispatchEvent(event);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggles the modal opened or closed.\r\n     */\r\n    toggle() {\r\n        if(this.isOpen) {\r\n            this.close();\r\n        } else {\r\n            this.open();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Is true when the modal is open.\r\n     * @returns {boolean}\r\n     */\r\n    get isOpen() {\r\n        return !this.element.classList.contains(this.hideClassName);\r\n    }\r\n\r\n    /**\r\n     * Helper method that is used to retrieve the modal instance from it's element.\r\n     *\r\n     * @param element {HTMLElement|String}\r\n     * @returns {Modal|null}\r\n     */\r\n    static getInstance(element) {\r\n        if(typeof element === 'string') {\r\n            element = document.querySelector(element);\r\n        }\r\n\r\n        return privateCache.get(element, 'modal');\r\n    }\r\n\r\n    /**\r\n     * Builds a Modal instance from a dom element.\r\n     *\r\n     * @param element {HTMLElement}\r\n     * @returns {Modal}\r\n     */\r\n    static buildComponent(element) {\r\n        let args = {};\r\n\r\n        if(element.dataset.hideOnClick) {\r\n            args.hideOnClick = element.dataset.hideOnClick === 'true';\r\n        }\r\n\r\n        if(element.dataset.hideClassName) {\r\n            args.hideClassName = element.dataset.hideClassName;\r\n        }\r\n\r\n        args.element = element;\r\n\r\n        return new Modal(args);\r\n    }\r\n}\r\n\r\n\r\nAutoLoader.register('modal', (element) => {\r\n    return Modal.buildComponent(element);\r\n});\r\n"],"sourceRoot":""}